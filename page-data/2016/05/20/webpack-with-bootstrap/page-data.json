{"componentChunkName":"component---src-templates-blog-js","path":"/2016/05/20/webpack-with-bootstrap/","result":{"data":{"blog":{"id":"f5a38157-397b-51cc-afce-eeba70f2f278","html":"<p>最近开始利用业余时间采用 <code class=\"language-text\">react + redux</code> 的前端架构山寨一个金数据（或者说是 WuFoo，毕竟两个东西看起来真的很像）以增加自己对这些框架的熟练度。在这个过程中记录下一些自己遇到的坑。今天就是一个 <code class=\"language-text\">webpack</code> 如何和 <code class=\"language-text\">bootstrap</code> 结合的坑。</p>\n<p>为了在项目之初就一个不是那么丑的界面，都会选择一些比较成熟的前端 css 框架。<code class=\"language-text\">bootstrap</code> 是比较流行的一个。<code class=\"language-text\">bootstrap</code> 一方面是基本的 <code class=\"language-text\">css</code> 另一方面还有一些 <code class=\"language-text\">jQuery</code> 的插件形式的类库支持其中的一些组件，当然还有一些它所需要的字体文件。那么这里问题就来了：</p>\n<ol>\n<li>如何在 <code class=\"language-text\">webpack</code> 中引入 <code class=\"language-text\">jQuery</code> 以及它的插件</li>\n<li>如何在 <code class=\"language-text\">webpack</code> 引入一些其他类型的文件，例如字体</li>\n</ol>\n<h2 id=\"引入-bootstrap\" style=\"position:relative;\">引入 bootstrap<a href=\"#%E5%BC%95%E5%85%A5-bootstrap\" aria-label=\"引入 bootstrap permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>首先，我们还是要安装 <code class=\"language-text\">bootstrap</code> 以及它所依赖的 <code class=\"language-text\">jquery</code>。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --save bootstrap-sass jquery</code></pre></div>\n<p>这里顺便说一句，虽然 <code class=\"language-text\">jquery</code> 看似过时了，但是它所构建的生态是非常庞大的，尤其是像 <code class=\"language-text\">jquery-ui</code> 这样的东西可以说是一些富交互应用所必须的。那么如何将 <code class=\"language-text\">react</code> 的 <code class=\"language-text\">component</code> 和 <code class=\"language-text\">jquery</code> 的一些组件很好的结合是在选择 <code class=\"language-text\">react</code> 这样的框架之初就考虑进去的。后面在涉及到一些复杂的交互的时候会出现 <code class=\"language-text\">jquery-ui</code> 与 <code class=\"language-text\">react</code> 一起使用的例子。</p>\n<p>然后，我们可以在 <code class=\"language-text\">webpack.config.js</code> 中以 entry 的形式引入 <code class=\"language-text\">bootstrap-loader</code></p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">var path = require(\"path\");\n\nmodule.exports = {\n  devtool: 'cheap-module-source-map',\n  entry: [\n    'bootstrap-loader',\n    './index.js'\n  ],\n  output: {\n    path: path.join(__dirname, \"dist\"),\n    filename: \"bundle.js\"\n  },\n  module: {\n    loaders: [\n      {\n        test: /\\.js$/,\n        exclude: /node_modules/,\n        loader: \"babel-loader\"\n      },\n      {\n        test: /\\.scss$/,\n        exclude: /node_modules/,\n        loader: \"style!css!sass\"\n      }\n    ]\n  }\n};</code></pre></div>\n<p>注意看 <code class=\"language-text\">entry</code> 本来就是一个数组，我们可以在这里引入多个入口。</p>\n<h2 id=\"Use-bootstrap-loader\" style=\"position:relative;\">Use bootstrap-loader<a href=\"#Use-bootstrap-loader\" aria-label=\"Use bootstrap loader permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>做了一番调研之后发现其实没必要自己把所有的事情都做了，有这么一个 <code class=\"language-text\">bootstrap-loader</code> 可以帮助在 <code class=\"language-text\">webpack</code> 的项目中引入 <code class=\"language-text\">bootstrap</code>。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --save-dev bootstrap-loader</code></pre></div>\n<p>不过单单是安装它是不过的，其实 <code class=\"language-text\">bootstrap-loader</code> 所做的事情就是帮助我们把各种样子的文件引入到我们的项目中，那么为了处理不同类型的文件需要一些其他的 <code class=\"language-text\">loader</code> 的支持（前面的博客有提及 <code class=\"language-text\">webpack</code> 只能处理 <code class=\"language-text\">js</code> 如果需要处理其他类型的东西就需要 <code class=\"language-text\">loader</code> 的帮助）。这里，我们还要引入一大堆的 <code class=\"language-text\">loader</code>。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">npm install --save-dev resolve-url-loader url-loader file-loader imports-loader</code></pre></div>\n<p>其中 <code class=\"language-text\">file-loader</code> 用于加载其他类型的文件，<code class=\"language-text\">url-loader</code> 和 <code class=\"language-text\">file-loader</code> 类似，只是在文件比较小的时候返回 Data Url 的形式。<code class=\"language-text\">resolve-url-loader</code> 和之前提到的 <code class=\"language-text\">sass-loader</code> 一起使用，用于处理 <code class=\"language-text\">sass</code> 中 <code class=\"language-text\">url()</code> 的路径。这些 <code class=\"language-text\">loader</code> 都要和 <code class=\"language-text\">webpack.config.js</code> 中的 <code class=\"language-text\">loaders</code> 配置项配合使用:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">var path = require(\"path\");\n\nmodule.exports = {\n  ...\n  module: {\n    loaders: [\n      ...\n      {\n        test: /\\.woff2?(\\?v=[0-9]\\.[0-9]\\.[0-9])?$/,\n        loader: \"url?limit=10000\"\n      },\n      {\n        test: /\\.(ttf|eot|svg)(\\?[\\s\\S]+)?$/,\n        loader: 'file'\n      }\n    ]\n  }\n};</code></pre></div>\n<h2 id=\"Use-imports-loader-to-support-jQuery\" style=\"position:relative;\">Use imports-loader to support jQuery<a href=\"#Use-imports-loader-to-support-jQuery\" aria-label=\"Use imports loader to support jQuery permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><code class=\"language-text\">imports-loader</code> 是个很有意思的 <code class=\"language-text\">loader</code> 它定义了一个简单的格式用于引入使用它的类库所需要的依赖。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">module.exports = {\n  ...\n  module: {\n    loaders: [\n      ...\n      {\n        test: /bootstrap-sass\\/assets\\/javascripts\\//,\n        loader: 'imports?jQuery=jquery'\n      }\n    ]\n  }\n};</code></pre></div>\n<p>如上所示，在 <code class=\"language-text\">webpack.config.js</code> 中加入这样一个 <code class=\"language-text\">loader</code>。其中说明在引入 <code class=\"language-text\">bootstrap</code> 下的 <code class=\"language-text\">javascripts</code> 时，为他们提供 <code class=\"language-text\">jQuery</code> 这样的变量。那么 <code class=\"language-text\">imports-loader</code> 会在引入 <code class=\"language-text\">bootstrap</code> 的 <code class=\"language-text\">js</code> 之前为他们提供如下的代码:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">  var jQuery = require('jquery');</code></pre></div>\n<p>估计在后续使用 <code class=\"language-text\">jquery</code> 的其他东西的时候还会用到它的。</p>\n<h2 id=\"参考\" style=\"position:relative;\">参考<a href=\"#%E5%8F%82%E8%80%83\" aria-label=\"参考 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<ol>\n<li><a href=\"https://github.com/shakacode/bootstrap-loader\">bootstrap-loader</a></li>\n<li><a href=\"https://github.com/webpack/imports-loader\">imports-loader</a></li>\n<li><a href=\"https://github.com/webpack/file-loader\">file-loader</a></li>\n<li><a href=\"https://github.com/webpack/url-loader\">url-loader</a></li>\n<li><a href=\"https://github.com/bholloway/resolve-url-loader\">resolve-url-loader</a></li>\n</ol>","tableOfContents":"<ul>\n<li><a href=\"#%E5%BC%95%E5%85%A5-bootstrap\">引入 bootstrap</a></li>\n<li><a href=\"#use-bootstrap-loader\">Use bootstrap-loader</a></li>\n<li><a href=\"#use-imports-loader-to-support-jquery\">Use imports-loader to support jQuery</a></li>\n<li><a href=\"#%E5%8F%82%E8%80%83\">参考</a></li>\n</ul>","frontmatter":{"title":"Webpack with Bootstrap","date":"May 20, 2016"}}},"pageContext":{"id":"f5a38157-397b-51cc-afce-eeba70f2f278"}},"staticQueryHashes":[]}