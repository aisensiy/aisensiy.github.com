{
    "componentChunkName": "component---src-templates-blogs-js",
    "path": "/page/9",
    "result": {"data":{"site":{"siteMetadata":{"title":"eisen-s-blog"}},"blogs":{"nodes":[{"id":"ca5034b7-1b2a-53bf-a94c-89290d8fc673","frontmatter":{"title":"æŠŠåšå®¢ä» jekyll è¿ç§»åˆ° gatsby","date":"2021 July-17"},"html":"<p>è€ƒè™‘åˆ°è‡ªå·±çš„å‰ç«¯æŠ€èƒ½æœ‰ä¸€é˜µå­æ²¡æœ‰æ›´æ–°äº†ï¼ŒåŒæ—¶çœ‹åˆ°åˆ˜è€å¸ˆç”¨ <a href=\"https://docusaurus.io\">docusaurus</a> æŠŠ openbayes docs åˆ‡æ¢ä¹‹åè®¿é—®é€Ÿåº¦å’Œä½¿ç”¨ä½“éªŒéƒ½æå‡äº†ä¸å°‘ï¼Œäºæ˜¯ä¹Ÿæƒ³è‡ªå·±å°è¯•ä¸€ä¸‹ <a href=\"https://www.gatsbyjs.org/\">gatsby</a>ï¼ˆä¸ docusaurus æŠ€æœ¯æ ˆç±»ä¼¼ä½†é€‚ç”¨èŒƒå›´åˆå¤§å¤§å¢åŠ ï¼‰ã€‚è¿™é‡Œå…ˆæ‹¿è‡ªå·±çš„å°åšå®¢å¼€åˆ€ï¼ŒæŠŠåŸæ¥çš„ jekyll æŠ€æœ¯æ ˆåˆ‡æ¢è¿‡æ¥ã€‚</p>\n<p>æœ¬æ¥æ‰“ç®—ä¸€å°æ­¥ä¸€å°æ­¥è¿ç§»è¿‡æ¥å¹¶åšæ¯”è¾ƒç»†è‡´çš„è®°å½•ï¼Œç»“æœä¸€ä¸å°å¿ƒæ­¥å­è¿ˆçš„æœ‰ç‚¹å¤§ï¼Œç”šè‡³æŠŠ tailwindcss çš„éƒ¨åˆ†ä¹Ÿä¸€å£æ°”å¼•å…¥åˆ°äº†æŠ€æœ¯æ ˆä¹‹ä¸­ã€‚ä¸è¿‡è€ƒè™‘åˆ°ç¯‡å¹…ï¼Œè¿™é‡Œè¿˜æ˜¯ä¼šåˆ†å¤šç¯‡æ–‡ç« åšä»‹ç»ã€‚é¦–å…ˆæ˜¯ä»‹ç»æŠŠ jekyll è¿ç§»åˆ° gatsby çš„éƒ¨åˆ†ã€‚</p>\n<p>å¦ï¼Œä»¥ä¸‹éƒ¨åˆ†æ˜¯ç›¸å¯¹æ¯”è¾ƒå®¹æ˜“é€šè¿‡æœç´¢è·å–åˆ°çš„å†…å®¹ï¼Œå¯¹åº”çš„å®˜æ–¹ç½‘ç«™éƒ½æœ‰éå¸¸è¯¦å°½çš„ä»‹ç»ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°ã€‚</p>\n<ol>\n<li>gatsby çš„åŸºæœ¬å®‰è£…</li>\n<li>graphql çš„çŸ¥è¯†</li>\n</ol>\n<h2 id=\"gatsby-çš„æ€è·¯\" style=\"position:relative;\">Gatsby çš„æ€è·¯<a href=\"#gatsby-%E7%9A%84%E6%80%9D%E8%B7%AF\" aria-label=\"gatsby çš„æ€è·¯ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>è™½ç„¶ gatsby å®˜æ–¹æŠŠ static åˆ’æ‰äº†åŠ ä¸Šäº† dynamicï¼Œä½†ä»¥æˆ‘ç›®å‰çš„äº†è§£ï¼Œå®ƒä¾ç„¶æ˜¯ä¸€ä¸ª static site generatorï¼Œåªæ˜¯åœ¨ç”Ÿæˆçš„è·¯ç”±çš„æ–¹é¢æœ‰äº† <em>åŠ¨æ€</em> çš„æ„Ÿè§‰ã€‚</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 772px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e153ee034e6e26509318a47a5247d08b/940c5/2021-07-17-20-10-00.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABU0lEQVQY06WRXU+CYACF/fmu1l3mR2lt6SL83CTNUqA2Qfw2hFJQVF58RTAFtGU6aNhV1z73z9nZOR7nCDxNDOJhSR2sVWnTykEOn1OIvFS2BEE8YLlatc4wDE1TJEkSJK4rZis/ZfHZl/njyrBv0Shgi3OptaIQmYxI1D0YtpbxNHJ6doLEY+HIVfQ2mkymEDQ2bOvco9nM6J9g68qG+g14E/DmuLOCgjUT1z1qMe6sNHFbxxRd2C+mBoZhXJdjWbbC0LVm5amUFweCK1fTSv5c7OLzSgI0c7BTUJkkKN/JUDQ/yno9DXtdMXTt8wcvUBT1er1+fyAYCBWfi64M3k2ZNQRmwb9qULAaGFQHa8AbjSwEvDHtm5M3S25vtInlOI5t/x9s1F42slMmASoJwJFa6VLiDi2qKeXlZlTwDZgUqGXAqL1yHHu32/9hH2I8x1z1C8gfodvGHSbEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2021 07 17 20 10 00\"\n        title=\"2021 07 17 20 10 00\"\n        src=\"/static/e153ee034e6e26509318a47a5247d08b/940c5/2021-07-17-20-10-00.png\"\n        srcset=\"/static/e153ee034e6e26509318a47a5247d08b/772e8/2021-07-17-20-10-00.png 200w,\n/static/e153ee034e6e26509318a47a5247d08b/e17e5/2021-07-17-20-10-00.png 400w,\n/static/e153ee034e6e26509318a47a5247d08b/940c5/2021-07-17-20-10-00.png 772w\"\n        sizes=\"(max-width: 772px) 100vw, 772px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>ç¿»çœ‹ gatsby å®˜æ–¹çš„ä¿¡æ¯åï¼Œè¿™é‡Œä¸º gatsby æ€»ç»“å‡ºå¦‚ä¸‹å‡ ä¸ªç‰¹ç‚¹ï¼š</p>\n<ol>\n<li>gatsby ä½¿ç”¨çš„æ¨¡æ¿å¼•æ“ä¸º reactï¼ˆjekyll ç”¨çš„å°±æ˜¯ ruby çš„ erbï¼‰ï¼Œç›¸æ¯”äºå…¶ä»–çš„åç«¯æ¨¡æ¿å¼•æ“ï¼Œå®ƒæœ¬èº«å°±æ˜¯å‰ç«¯æ¡†æ¶ï¼Œä½¿ç”¨ react ç›¸å½“äºå…·å¤‡äº†åˆ›å»ºå®Œæ•´å‰ç«¯æŠ€æœ¯æ ˆçš„èƒ½åŠ›ã€‚</li>\n<li>gatsby ä¹Ÿæœ‰è‡ªå·±çš„ä¸€å¥—é™æ€è·¯ç”±ï¼Œä»¥åŠæœ€è¿‘ä¹Ÿæœ‰äº† <em>åŠ¨æ€</em> è·¯ç”±ã€‚è¿™éƒ¨åˆ†ä¼¼ä¹æ²¡æœ‰ç‰¹åˆ«å¤šçš„æ–°æ„ï¼Œæ¯•ç«Ÿè·¯ç”±åŸæœ¬å°±æ˜¯ä¼ ç»Ÿåç«¯æ¡†æ¶çš„å¿…è¦ç»„æˆéƒ¨åˆ†ã€‚ä½†æ˜¯ gatsby çš„åŠ¨æ€è·¯ç”±æ˜¯é€šè¿‡å¸¦å‚æ•°å½¢å¼çš„æ–‡ä»¶åå®ç°çš„ï¼ˆå½“ç„¶è¿˜æœ‰ä¸ªæ›´çµæ´»çš„æ–¹å¼ï¼š <a href=\"https://www.gatsbyjs.com/docs/how-to/routing/creating-routes/#using-gatsby-nodejs\">gatsby-node.js</a>ï¼‰ï¼Œè¿™ä¸ªæ€è·¯æ„Ÿè§‰åƒæ˜¯åœ¨åŸæœ‰çš„é™æ€è·¯ç”±çš„å»¶ç”³ï¼Œè¿™ä¼¼ä¹æ˜¯ä¸€ç§æŠŠè·¯ç”±çš„ä½¿ç”¨é—¨æ§›é™ä½çš„å¥½åŠæ³•ï¼Œè¿˜æœ‰å¦å¤–ä¸€ä¸ªæ¡†æ¶ next.js ä¹Ÿä½¿ç”¨äº†ç±»ä¼¼çš„æ–¹å¼ã€‚</li>\n<li>gatsby çš„ graphql data layer å¯ä»¥é€šè¿‡ä¸€ç³»åˆ—æ’ä»¶å°†å¤šç§å½¢å¼çš„æ•°æ®æºä»¥ graphql çš„å½¢å¼æä¾›ç»™å¤„äº <code>develop mode</code> çš„ gatsby server ï¼Œå¹¶å¾ˆæ–¹ä¾¿çš„å¡«å……åˆ°æ¨¡æ¿ä¸­ã€‚åŒæ—¶ï¼Œæ•°æ®æºè¿˜å¯ä»¥ä½¿ç”¨æ’ä»¶åšæ•°æ®çš„æ‰©å±•ï¼ˆæ·»åŠ å­—æ®µï¼Œä¿®æ”¹å­—æ®µï¼‰ï¼Œåœ¨åé¢æœ‰å…³æ’ä»¶çš„éƒ¨åˆ†æˆ‘ä¹Ÿä¼šåšä¸€äº›ä»‹ç»ã€‚</li>\n</ol>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1b825b58bb44d2080bfd119800d2a2d5/5df5d/data-layer.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzElEQVQozz1Sy3LbMAzU//9Ye8s1mSZOmjaRKtsSXyDxZoeyEwwPxM4sd7HEhGJrwh14Dvixt4RSSc+ZQhUU24DniEvESyFSzyhzxDliQUWxCUjer+3P1p6X/LKWSyZAOa35nLCgLKG9/Bv42wUyylb4aU6PnzEAAenUuwNACEGYVdjdeu8i0hr2o5hZmHvvZkbEwtS7m7mqTu4+L+vL6xsxqxpALQC995QzEvXer/uuqgWgAIiIe/fezd3MBtnd1Tw1Liix0nyNsfGe655ranwOOTWeryEA5iapMqC4u7lPd29qKMOwf7WnC/y+1o+9LZE+A97wfmgC6e0+DRujOpAUlNQ4VkqNt9y2jBFoLy0AHTjnNmQLytC9KReo121HpDHMgbaGrSEiIZGo5gKq6l/VDzlVG+T1fHl8eo4xDSvuhEhHVKoqIsOqWq3NzL68D/Y9MJHxKosi63UPsVRzZzVACjEhq7mLWky5NWSx75puz3T3Y7Hw1xJDZRJrrOeEvy+lkpAooM6hva45o4haH+b79J1wRn1ays/TdloLq5PaHPHhPeQmrBaAH97jj9P2d2/m9+yn7zHUxm+P9dKR5e24dxI7Jrwzju5O+Q8cUvLI8mjQAQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"graphql data layer\"\n        title=\"graphql data layer\"\n        src=\"/static/1b825b58bb44d2080bfd119800d2a2d5/5a190/data-layer.png\"\n        srcset=\"/static/1b825b58bb44d2080bfd119800d2a2d5/772e8/data-layer.png 200w,\n/static/1b825b58bb44d2080bfd119800d2a2d5/e17e5/data-layer.png 400w,\n/static/1b825b58bb44d2080bfd119800d2a2d5/5a190/data-layer.png 800w,\n/static/1b825b58bb44d2080bfd119800d2a2d5/c1b63/data-layer.png 1200w,\n/static/1b825b58bb44d2080bfd119800d2a2d5/5df5d/data-layer.png 1572w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">graphql data layer</figcaption>\n  </figure></p>\n<h2 id=\"å¿«é€Ÿå¼€å§‹\" style=\"position:relative;\">å¿«é€Ÿå¼€å§‹<a href=\"#%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B\" aria-label=\"å¿«é€Ÿå¼€å§‹ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>åœ¨å¼€å§‹æ“ä½œä¹‹å‰æˆ‘è‡ªç„¶æ˜¯ google äº†ä¸€ç•ªï¼Œå‘ç°æƒ³è¦æŠŠ jekyll åˆ‡åˆ° gatsby çš„äººä¸åœ¨å°‘æ•°ã€‚å¹¶ä¸”å®˜æ–¹ç½‘ç«™é‡Œä¹Ÿæœ‰é€‚é… markdown ä½œä¸ºæ•°æ®æºçš„å†…å®¹ã€‚è¿™é‡Œå…ˆç½—åˆ—ä¸‹ä» jekyll åˆ° gatsby è¿ç§»çš„å‡ ä¸ªå¿…é¡»æ­¥éª¤ï¼Œå¹¶åœ¨ä¸‹æ–‡ä¸€ä¸€ä»‹ç»ã€‚</p>\n<ol>\n<li>markdown æ–‡ä»¶çš„æ•´ä½“è¿ç§»</li>\n<li>ç”Ÿæˆè·¯ç”±</li>\n<li>å¤„ç† blog ä¸­çš„ä»£ç é«˜äº®</li>\n<li>ä¼˜åŒ– blog ä¸­çš„ image</li>\n<li>éƒ¨ç½²</li>\n</ol>\n<h2 id=\"markdown-æ–‡ä»¶çš„æ•´ä½“è¿ç§»\" style=\"position:relative;\">markdown æ–‡ä»¶çš„æ•´ä½“è¿ç§»<a href=\"#markdown-%E6%96%87%E4%BB%B6%E7%9A%84%E6%95%B4%E4%BD%93%E8%BF%81%E7%A7%BB\" aria-label=\"markdown æ–‡ä»¶çš„æ•´ä½“è¿ç§» permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>jekyll å‡ºç°çš„é‚£ä¸ªæ—¶ä»£æ²¡æœ‰æƒ³ç°åœ¨è¿™æ ·å¦‚æ­¤å¤šçš„å¤–éƒ¨æ•°æ®æºå¯ä»¥é€‰æ‹©ï¼Œå…¶é™æ€é¡µé¢ç”Ÿæˆçš„æ•°æ®æºä¸€å®šæ˜¯æ–‡ä»¶ã€‚ä½† 2021 å¹´æƒ…å†µå‘ç”Ÿäº†å˜åŒ–ï¼Œä» gatsby çš„å®˜æ–¹æ•°æ®æºæ’ä»¶æ¥çœ‹ï¼Œå…¶ä¸­å¤§é‡çš„æ•°æ®æºæ˜¯ headless cmsï¼ˆæ¯”å¦‚ contentful æ¯”å¦‚ wordpressï¼‰ï¼Œä¸è¿‡å¯¹æˆ‘æ¥è¯´ä» jekyll è¿ç§»ï¼Œæˆ‘å…³å¿ƒçš„ä¹Ÿå°±æ˜¯æ–‡ä»¶æ•°æ®æºã€‚</p>\n<p>è¿™é‡Œç”¨åˆ°äº†ä¸¤ä¸ªæ’ä»¶ï¼š</p>\n<ol>\n<li><code>gatsby-source-filesystem</code> å°†ç‰¹å®šç›®å½•ä½œä¸ºæ•°æ®æºæ·»åŠ åˆ° gatsby çš„æ•°æ®å±‚</li>\n<li><code>gatsby-transformer-remark</code> ä½¿ç”¨ <a href=\"https://remark.js.org/\">remark</a> å°† <code>markdown</code> æ–‡ä»¶è§£æä¸º html å¹¶ä¸º markdown æä¾›äº†å¾ˆå¤šæœ‰ç”¨çš„å­—æ®µï¼ˆæ¯”å¦‚ frontmatterï¼Œæ¯”å¦‚ç›®å½•ï¼‰</li>\n</ol>\n<p>gatsby æ‰€æœ‰çš„æ’ä»¶éƒ½éœ€è¦å•ç‹¬å®‰è£…å¹¶åœ¨ <code>gatsby-config.js</code> åšé…ç½®ï¼Œè¿™é‡Œå±•ç¤ºä¸‹ä¸Šè¿°ä¸¤ä¸ªæ’ä»¶çš„åŸºæœ¬é…ç½®ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  siteMetadata<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-transformer-remark</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Plugins configs è¿™é‡Œåç»­åšæ‰©å±•ï¼Œæ”¯æŒè¯­æ³•é«˜äº®ã€å›¾ç‰‡ä¼˜åŒ–</span>\n        plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-source-filesystem</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">blogs</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        path<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>__dirname<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/src/blogs/</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>åœ¨ <code>gatsby-source-filesystem</code> çš„é…ç½®éƒ¨åˆ†å¯ä»¥çœ‹åˆ°ï¼Œmarkdown æ–‡ä»¶è¢«æ”¾åˆ°äº† <code>src/blogs</code> ç›®å½•ä¸‹ã€‚åœ¨æ‰§è¡Œå‘½ä»¤ <code>yarn run start</code> ä¹‹åï¼Œé€šè¿‡ <code>http://localhost:8000/__graphql</code> æ„å»ºå¦‚ä¸‹ graphql è¯­å¥å°±èƒ½å¤Ÿè·å–åˆ°æ–‡ä»¶çš„ä¿¡æ¯äº†ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property-query\">allFile</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">filter</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token attr-name\">sourceInstanceName</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token attr-name\">eq</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"blogs\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token object\">nodes</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">relativePath</span>\n      <span class=\"token property\">extension</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>å¯ä»¥çœ‹åˆ°å¯¹åº”çš„ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/903572f815ccd4e832fc819eed8580f7/9b379/2021-07-18-14-20-38.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABRklEQVQoz42R247cIBBE/f//mEykWZtLYzf0DewxbGTnJVI2mj2qR44oVU8fz495Xrz3MQa4CSEkAB+8cy6tX7O4sLg4ad33epzHebRzt9deX+dxvup+9lNEMiCRmFX9K6JWW4sAk9i+AFk9Rh/9HL2P0cc4+xjDzFakOSJpFWsm1axa27W2drwW56be+/1yfP6DFKZngkdwPxw+Ez2BY5aNeC2WJYQ4fan9QdW48JpygkwbyUZKqkW0iOlVfvr8P8rKyCliRKYiiqysWi7f7K2sxkhrRPBbAeSIqtVas7Zbbe9lKZIgu0vODNnsNu+8k0UFCQJ6v+Ww8Zw4Fc1yhfS9zFu5agcsMbPHa7N7MBX7xs8bp4DBY/HIy8rrJQvJd2obb7RChpgLZIlZ8j04qb4/VWGaE/wK7qfHRyiPQMvK/p79rv0buuHtxVAbKOgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2021 07 18 14 20 38\"\n        title=\"2021 07 18 14 20 38\"\n        src=\"/static/903572f815ccd4e832fc819eed8580f7/5a190/2021-07-18-14-20-38.png\"\n        srcset=\"/static/903572f815ccd4e832fc819eed8580f7/772e8/2021-07-18-14-20-38.png 200w,\n/static/903572f815ccd4e832fc819eed8580f7/e17e5/2021-07-18-14-20-38.png 400w,\n/static/903572f815ccd4e832fc819eed8580f7/5a190/2021-07-18-14-20-38.png 800w,\n/static/903572f815ccd4e832fc819eed8580f7/9b379/2021-07-18-14-20-38.png 951w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>ä¸è¿‡ç›´æ¥ä½¿ç”¨è¿™ä¸ªä¼¼ä¹æ•°æ®ä¹Ÿåšä¸äº†ä»€ä¹ˆï¼Œè¿˜éœ€è¦ <code>gatsby-transformer-remark</code> å°† markdown åšè§£æï¼Œå¯¹åº”çš„æ•°æ®é€šè¿‡å¦å¤–ä¸€ä¸ª graphql çš„æ¥å£è·å–ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token keyword\">query</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token object\">allMarkdownRemark</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token object\">nodes</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">id</span>\n      <span class=\"token property\">html</span>\n      <span class=\"token object\">frontmatter</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">title</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/766fff3e9096e10adfe8fb7d7c67d123/d7abb/2021-07-18-14-26-08.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABYklEQVQoz4WRi27qMBBE8/+fVhVuAyRAq6rk4UdC7F3b6zgUEioT3UpVSzsarSzLRzsjJ0VRcMZkI2Uzq5VStm0jhOCcq//qvrrmUogmsWjJD304jeM4TdM8ZxERdoCWLHnyve/Dp0MYlFIJ+UGhv4zj9aumaepDOGpTNVpp68j3YQjh1IchHt7fHVFyuYxg++F0vn6TJ0/aHhuN5dG8NlYox5XlylQdKescJefz5XpH1IJOS7MXsGW4ZZjVsKkxZ3pRYM4jPE3TD9ztzjUATyWkFSwLzFl0xnBdweLgSuW8vwPPsbXFV4k7jjsWZ87gXwHLUj8eSIDrf4WpM7CuzbPALTd7gRnTiwOsYhBXdH9sphbi01WFOTM5w7nwstCLQ+xMv3cWGtLK7PiNr3FdY1rhJoY3O3Ef/oy9Zbi5Lc8YrMq481lAVpsX+RfcIGQ17jmkZcwfv6qCtNIPb/bt6Dx9AFzAp7PaF+fLAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2021 07 18 14 26 08\"\n        title=\"2021 07 18 14 26 08\"\n        src=\"/static/766fff3e9096e10adfe8fb7d7c67d123/5a190/2021-07-18-14-26-08.png\"\n        srcset=\"/static/766fff3e9096e10adfe8fb7d7c67d123/772e8/2021-07-18-14-26-08.png 200w,\n/static/766fff3e9096e10adfe8fb7d7c67d123/e17e5/2021-07-18-14-26-08.png 400w,\n/static/766fff3e9096e10adfe8fb7d7c67d123/5a190/2021-07-18-14-26-08.png 800w,\n/static/766fff3e9096e10adfe8fb7d7c67d123/d7abb/2021-07-18-14-26-08.png 959w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>é¡ºä¾¿è¯´ä¸€ä¸‹ gatsby æä¾›çš„ graphiql å¢åŠ äº† <a href=\"https://github.com/OneGraph/graphiql-explorer\">graphql-explorer</a> å¯ä»¥é€šè¿‡ç‚¹å‡»çš„æ–¹å¼å¿«é€Ÿçš„æ‹¼æ¥ graphql è¯­å¥ã€‚</p>\n<h2 id=\"ç”Ÿæˆè·¯ç”±\" style=\"position:relative;\">ç”Ÿæˆè·¯ç”±<a href=\"#%E7%94%9F%E6%88%90%E8%B7%AF%E7%94%B1\" aria-label=\"ç”Ÿæˆè·¯ç”± permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<h3 id=\"å›ºå®šè·¯ç”±\" style=\"position:relative;\">å›ºå®šè·¯ç”±<a href=\"#%E5%9B%BA%E5%AE%9A%E8%B7%AF%E7%94%B1\" aria-label=\"å›ºå®šè·¯ç”± permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>æœ‰äº†æ•°æ®æºï¼Œä¸‹ä¸€æ­¥å°±æ˜¯æ„å»ºåšå®¢çš„åŸºæœ¬çš„è·¯ç”±ç»“æ„ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">/ -- é¦–é¡µï¼Œå±•ç¤ºæœ€æ–°çš„ N ç¯‡åšå®¢\n/about -- å…³äºï¼Œä¸€ä¸ªç‹¬ç«‹çš„é¡µé¢\n/page/{page-number} -- åšåˆ†é¡µï¼Œæ¯é¡µå›ºå®šæ•°é‡çš„åšå®¢ï¼Œå½“ç„¶æä¾›ç¿»é¡µåŠŸèƒ½\n/{slug} -- æ¯ç¯‡åšå®¢çš„è¯­ä¹‰ url ç”¨æ¥å±•ç¤ºæ¯ç¯‡ç‹¬ç«‹çš„åšå®¢\n/archive -- æ‰€æœ‰åšå®¢çš„æ€»è§ˆé¡µé¢ï¼Œç½—åˆ—äº†æ‰€æœ‰çš„åšå®¢æ ‡é¢˜</code></pre></div>\n<p>ä¸Šæ–‡æäº†ï¼Œgatsby ä¸ºäº†ç®€åŒ–è·¯ç”±ï¼Œä¸º <code>/src/pages</code> ç›®å½•ä¸‹æ¯ä¸ªæ–‡ä»¶éƒ½æä¾›äº†å¯¹åº”çš„ url è·¯å¾„ã€‚æ¯”å¦‚ <code>src/pages/about.js</code> çš„å†…å®¹å°±å¯¹åº”äº† <code>/about</code> è·¯ç”±ï¼Œå†æ¯”å¦‚ <code>src/pages/projects/main.js</code> å¯¹å¯¹åº”äº† <code>/projects/main</code> è·¯ç”±ã€‚ä¹Ÿå°±æ˜¯è¯´å¯¹äºå›ºå®šè·¯ç”±æ¥è¯´ï¼Œç›´æ¥ç»™ä¸ªå¯¹åº”æ–‡ä»¶å¹¶ä¸”æŒ‰ gatsby çš„è§„çº¦ç”¨ graphql è·å–æ•°æ®åšæ¸²æŸ“å°±å¥½äº†ã€‚è¿™é‡Œæˆ‘ä»¥ <code>/archive</code> çš„ä»£ç ä¸¾ä¸ªä¾‹å­ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Archive</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> groupByYearResult <span class=\"token operator\">=</span> <span class=\"token function\">groupByYear</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>nodes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Base<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>h1 className<span class=\"token operator\">=</span><span class=\"token string\">\"text-4xl font-extrabold tracking-tight my-4 text-gray-800\"</span><span class=\"token operator\">></span>Archive<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span>groupByYearResult<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> key<span class=\"token punctuation\">,</span> value <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n          <span class=\"token operator\">&lt;</span>div key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>h2 className<span class=\"token operator\">=</span><span class=\"token string\">\"text-3xl font-bold tracking-tight my-4 text-gray-800\"</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>YearItems blogs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Base<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">YearItems</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> blogs <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>çœç•¥äº†<span class=\"token operator\">...</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> query <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query QueryBlogTitles {\n    allMarkdownRemark(sort: { fields: frontmatter___date, order: DESC }) {\n      nodes {\n        id\n        frontmatter {\n          title\n          date(formatString: \"MMMM-DD\")\n          year: date(formatString: \"YYYY\")\n        }\n        fields {\n          slug_without_date\n        }\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">groupByYear</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">blogs</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// çœç•¥äº†...</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>æ–‡ä»¶å¯ä»¥åˆ†ä¸ºä¸¤ä¸ªéƒ¨åˆ†ï¼Œä¸€éƒ¨åˆ†æ˜¯ react çš„æ¨¡æ¿ï¼Œä¸€éƒ¨åˆ†æ˜¯ graphql æ•°æ®çš„è·å–ï¼Œç®€å•æ˜äº†ï¼Œè¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ã€‚</p>\n<h3 id=\"ä»æ–‡ä»¶ç”Ÿæˆ-slug-å¹¶ä½¿ç”¨-react-æ¨¡æ¿ç”Ÿæˆ-blog-é¡µé¢\" style=\"position:relative;\">ä»æ–‡ä»¶ç”Ÿæˆ slug å¹¶ä½¿ç”¨ react æ¨¡æ¿ç”Ÿæˆ blog é¡µé¢<a href=\"#%E4%BB%8E%E6%96%87%E4%BB%B6%E7%94%9F%E6%88%90-slug-%E5%B9%B6%E4%BD%BF%E7%94%A8-react-%E6%A8%A1%E6%9D%BF%E7%94%9F%E6%88%90-blog-%E9%A1%B5%E9%9D%A2\" aria-label=\"ä»æ–‡ä»¶ç”Ÿæˆ slug å¹¶ä½¿ç”¨ react æ¨¡æ¿ç”Ÿæˆ blog é¡µé¢ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>ç›¸å¯¹äºå›ºå®šè·¯ç”±ï¼ŒåŠ¨æ€è·¯ç”±ä¸æ˜¯è¯´åƒ <a href=\"/blog-migrate-from-jekyll-to-gatsby\">/blog-migrate-from-jekyll-to-gatsby</a> è¿™æ ·çš„é¡µé¢æ˜¯åœ¨ç”¨æˆ·è¯·æ±‚çš„æ—¶å€™ç”¨ server ç«¯ä¸´æ—¶æ‹¼è£…é¡µé¢ï¼Œè€Œæ˜¯æŒ‡åœ¨ gatsby éƒ¨ç½²çš„æ—¶å€™åŠ¨æ€çš„ç”Ÿæˆä¸€ç³»åˆ—çš„é™æ€é¡µé¢ã€‚ä¸Šæ–‡æåˆ°äº†ï¼Œæ—¢ç„¶æˆ‘å¯ä»¥ä» graphql é‡Œé¢ç½—åˆ—ä¸€ç³»åˆ—çš„ markdown å†…å®¹äº†ï¼Œé‚£æˆ‘è‡ªç„¶å¯ä»¥é€šè¿‡éå†çš„æ–¹å¼å»ç”Ÿæˆä¸€ä¸ªä¸ªé¡µé¢å¹¶æä¾›å„è‡ªçš„è·¯ç”±ã€‚</p>\n<p>å…·ä½“åœ¨ gatsby åšçš„æ—¶å€™éœ€è¦è¿™ä¹ˆåšï¼š</p>\n<h4 id=\"1-å‡†å¤‡å•ä¸ª-blog-çš„æ¨¡æ¿é¡µé¢\" style=\"position:relative;\">1. å‡†å¤‡å•ä¸ª blog çš„æ¨¡æ¿é¡µé¢<a href=\"#1-%E5%87%86%E5%A4%87%E5%8D%95%E4%B8%AA-blog-%E7%9A%84%E6%A8%A1%E6%9D%BF%E9%A1%B5%E9%9D%A2\" aria-label=\"1 å‡†å¤‡å•ä¸ª blog çš„æ¨¡æ¿é¡µé¢ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">BlogTemplate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Base<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Blog data<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>blog<span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Base<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query BlogPostQuery($id: String) {\n    blog: markdownRemark(id: { eq: $id }) {\n      id\n      html\n      tableOfContents\n      frontmatter {\n        title\n        date(formatString: \"MMMM DD, YYYY\")\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span></code></pre></div>\n<p>è¿™æ˜¯ <code>src/templates/blog.js</code> æ–‡ä»¶çš„å†…å®¹ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œåœ¨ <code>pageQuery</code> å¼•å…¥äº†å‚æ•° <code>$id</code>ï¼Œè¿™éƒ¨åˆ†åœ¨ä¸‹æ–‡ä¼šä»‹ç»æ€ä¹ˆå¡«å……è¿™ä¸ªå­—æ®µã€‚</p>\n<h4 id=\"2-åœ¨-gatsby-nodejs-ä¸­åˆ›å»ºé¡µé¢\" style=\"position:relative;\">2. åœ¨ gatsby-node.js ä¸­åˆ›å»ºé¡µé¢<a href=\"#2-%E5%9C%A8-gatsby-nodejs-%E4%B8%AD%E5%88%9B%E5%BB%BA%E9%A1%B5%E9%9D%A2\" aria-label=\"2 åœ¨ gatsby nodejs ä¸­åˆ›å»ºé¡µé¢ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>gatsby åœ¨ build çš„æ—¶å€™ä¼šæ‰§è¡Œ gatsby-node.js æ–‡ä»¶ï¼Œè¿™ä¸ªæ–‡ä»¶ä¸­å¯ä»¥è°ƒç”¨ gatsby çš„å†…éƒ¨ api ä»¥å®ç°åŠ¨æ€åˆ›å»ºé¡µé¢çš„ç›®çš„ã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createFilePath <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gatsby-source-filesystem\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// 1. ä¸º markdown å¢åŠ é¢å¤–çš„å­—æ®µ slug å’Œ slug_without_date</span>\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onCreateNode</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> node<span class=\"token punctuation\">,</span> actions<span class=\"token punctuation\">,</span> getNode <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createNodeField <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">.</span>internal<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">MarkdownRemark</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> filename <span class=\"token operator\">=</span> <span class=\"token function\">createFilePath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> node<span class=\"token punctuation\">,</span> getNode <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// get the date and title from the file name</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">,</span> date<span class=\"token punctuation\">,</span> title<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> filename<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>\n      <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^\\/([\\d]{4}-[\\d]{2}-[\\d]{2})-{1}(.+)\\/$</span><span class=\"token regex-delimiter\">/</span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// create a new slug concatenating everything</span>\n    <span class=\"token function\">createNodeField</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> node<span class=\"token punctuation\">,</span> name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">slug</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>date<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\-</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>title<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">createNodeField</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> node<span class=\"token punctuation\">,</span> name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">slug_without_date</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>title<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 2. è·å–æ‰€æœ‰çš„ markdown æ•°æ®</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">createPages</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> graphql<span class=\"token punctuation\">,</span> actions<span class=\"token punctuation\">,</span> reporter <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Destructure the createPage function from the actions object</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createPage <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions\n  <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">graphql</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    {\n      allMarkdownRemark {\n        nodes {\n          id\n          fields {\n            slug\n            slug_without_date\n          }\n        }\n        pageInfo {\n          totalCount\n        }\n      }\n    }\n  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    reporter<span class=\"token punctuation\">.</span><span class=\"token function\">panicOnBuild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ğŸš¨  ERROR: Loading \"createPages\" query'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  \n  <span class=\"token keyword\">const</span> posts <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>nodes<span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// 3. è°ƒç”¨ api createPage åˆ›å»º</span>\n  posts<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">node<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      path<span class=\"token operator\">:</span> node<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">,</span> <span class=\"token comment\">// è¿™é‡Œæ˜¯è·¯ç”±</span>\n      component<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">./src/templates/blog.js</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// è¿™é‡Œæ˜¯æ¨¡æ¿çš„ä½ç½®</span>\n      context<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> node<span class=\"token punctuation\">.</span>id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// è¿™é‡Œæ˜¯ä¼ é€’ç»™æ¨¡æ¿çš„å‚æ•°</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      path<span class=\"token operator\">:</span> node<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>slug_without_date<span class=\"token punctuation\">,</span> <span class=\"token comment\">// ç”Ÿæˆå¦å¤–ä¸€ä¸ªè·¯ç”±</span>\n      component<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">./src/templates/blog.js</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      context<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> node<span class=\"token punctuation\">.</span>id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>é¦–å…ˆï¼Œé€šè¿‡ <code>onCreateNode</code> çš„ hook é€šè¿‡æ–‡ä»¶åè§£æå‡ºæ¥äº† slugã€‚ä¸¾ä¸ªä¾‹å­ï¼Œæ–‡ä»¶åæ˜¯ <code>2021-07-17-blog-migrate-from-jekylly-to-gatsby.md</code> é‚£ä¹ˆå°±ä¼šè§£æå‡ºä¸¤ä¸ª slugï¼š</p>\n<ul>\n<li>/2021/07/17/blog-migrate-from-jekylly-to-gatsby</li>\n<li>/blog-migrate-from-jekylly-to-gatsby</li>\n</ul>\n<p>ä¹‹åé€šè¿‡ <code>createNodeField</code> æ–¹æ³•æŠŠ slug å†æ¬¡å¡å› <code>MarkdownRemark</code> ç±»å‹çš„ <code>fields</code> å±æ€§é‡Œï¼Œåé¢å°±å¯ä»¥é€šè¿‡ <code>fields.slug</code> è®¿é—®è¿™äº›å±æ€§äº†ã€‚</p>\n<p>ä¹‹æ‰€ä»¥åˆ›å»º /2021/07/17/xxx çš„è·¯ç”±ï¼ˆè€Œä¸ä»…ä»…æœ‰ /xxx çš„è·¯ç”±ï¼‰æ˜¯å› ä¸ºè¿™æ—¶ jekyll çš„é»˜è®¤è·¯ç”±æ ·å¼ï¼Œç®—æ˜¯åšä¸€ä¸ªå…¼å®¹ä¿è¯åŸæ¥çš„é“¾æ¥ä¸ä¼šå¤±æ•ˆã€‚</p>\n<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œblog çš„ä¸»è¦åŠŸèƒ½ç®—æ˜¯å»ºç«‹å¥½äº†ã€‚</p>\n<h2 id=\"å¤„ç†-blog-ä¸­çš„ä»£ç é«˜äº®\" style=\"position:relative;\">å¤„ç† blog ä¸­çš„ä»£ç é«˜äº®<a href=\"#%E5%A4%84%E7%90%86-blog-%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE\" aria-label=\"å¤„ç† blog ä¸­çš„ä»£ç é«˜äº® permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>remark è¿™ä¸ªæ’ä»¶è‡ªå·±ä¹Ÿå¯ä»¥ä½¿ç”¨æ’ä»¶ï¼Œä½¿ç”¨ <a href=\"https://www.gatsbyjs.com/plugins/gatsby-remark-prismjs/\">prismjs</a> å°±å¯ä»¥å®ç°ä»£ç çš„é«˜äº®äº†ã€‚</p>\n<p>ç®€å•ç½—åˆ—ä¸‹é…ç½®ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n      resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-transformer-remark</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Plugins configs</span>\n        plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span>\n            resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-remark-prismjs</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n            options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n              aliases<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// è¿™é‡Œä»…ä»…æ˜¯å¤šäº†ä¸¤ä¸ªè¯­è¨€çš„ alias</span>\n                sh<span class=\"token operator\">:</span> <span class=\"token string\">\"bash\"</span><span class=\"token punctuation\">,</span>\n                gql<span class=\"token operator\">:</span> <span class=\"token string\">\"graphql\"</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>æœ€åè®°å¾—æŒ‰ç…§æ–‡æ¡£æŠŠ css æ–‡ä»¶æ·»åŠ è¿›æ¥ã€‚</p>\n<h2 id=\"ä¼˜åŒ–-blog-ä¸­çš„-image\" style=\"position:relative;\">ä¼˜åŒ– blog ä¸­çš„ image<a href=\"#%E4%BC%98%E5%8C%96-blog-%E4%B8%AD%E7%9A%84-image\" aria-label=\"ä¼˜åŒ– blog ä¸­çš„ image permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>è¿™éƒ¨åˆ†å·¥ä½œä¹Ÿç®—æ˜¯ gatsby çš„ä¸€ä¸ªäº®ç‚¹ã€‚è¿™ä¸ªæ’ä»¶é€šè¿‡å¯¹ img çš„ srcset çš„æ”¯æŒå¯ä»¥å®ç°åœ¨ä¸åŒå®½åº¦çš„é¡µé¢ä¸Šå»åŠ è½½ä¸åŒå®½åº¦çš„å›¾ç‰‡ã€‚å¹¶ä¸”è¿™äº›ä¸åŒå®½åº¦çš„å›¾ç‰‡ä¹Ÿéƒ½ç”±æ’ä»¶è‡ªåŠ¨ç”Ÿæˆï¼Œç§°å¾—ä¸Šæ˜¯å¼€ç®±å³ç”¨äº†ã€‚æ›´å¤šçš„ä¿¡æ¯å» <a href=\"https://www.gatsbyjs.com/plugins/gatsby-remark-images/?=image#gatsby-remark-images\">gatsby remark images</a> ä¸€çœ‹å°±æ™“å¾—äº†ã€‚</p>\n<h2 id=\"åœ¨-github-pages-éƒ¨ç½²\" style=\"position:relative;\">åœ¨ github pages éƒ¨ç½²<a href=\"#%E5%9C%A8-github-pages-%E9%83%A8%E7%BD%B2\" aria-label=\"åœ¨ github pages éƒ¨ç½² permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>è¿™éƒ¨åˆ† gatsby å·²ç»ç»™å‡†å¤‡å¥½äº†ï¼Œè·Ÿç€ <a href=\"https://www.gatsbyjs.com/docs/how-to/previews-deploys-hosting/how-gatsby-works-with-github-pages/\">How Gatsby Works with GitHub Pages</a> åŸºæœ¬å°±èƒ½è§£å†³ã€‚æœ€åé€šè¿‡ä¸€ä¸ª github action å®ç°äº†è‡ªåŠ¨éƒ¨ç½²ï¼ˆè€Œä¸æ˜¯æ¯æ¬¡éƒ½è‡ªå·± yarn run deployï¼‰ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> build<span class=\"token punctuation\">-</span>and<span class=\"token punctuation\">-</span>deploy\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'**'</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Git Repo Sync\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/setup<span class=\"token punctuation\">-</span>node@v2\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">node-version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'14'</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> install deps\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> yarn install <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>frozen<span class=\"token punctuation\">-</span>lockfile\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> build\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> yarn run build\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> deploy\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> peaceiris/actions<span class=\"token punctuation\">-</span>gh<span class=\"token punctuation\">-</span>pages@v3\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">github_token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.GITHUB_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">publish_branch</span><span class=\"token punctuation\">:</span> main\n        <span class=\"token key atrule\">publish_dir</span><span class=\"token punctuation\">:</span> ./public</code></pre></div>\n<p>è¿™é‡Œæˆ‘çš„ä¸»åˆ†æ”¯æ˜¯ master å¹¶é‡‡ç”¨ main ä½œä¸ºäº†å‘å¸ƒåˆ†æ”¯ï¼Œç›´æ¥ä½¿ç”¨ action  <code>actions-gh-pages</code> æŠŠ public ç›®å½•æäº¤åˆ° main å°±å¯ä»¥äº†ã€‚</p>\n<h2 id=\"å°ç»“\" style=\"position:relative;\">å°ç»“<a href=\"#%E5%B0%8F%E7%BB%93\" aria-label=\"å°ç»“ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>gatsby å¹¶ä¸åƒ jekyll é‚£ä¹ˆå¼€ç®±å³ç”¨ï¼Œä½†å…¶åŠŸèƒ½ç¡®å®å¼ºå¤§ä¸å°‘ï¼Œçµæ´»æ€§å’Œæ‰©å±•æ€§ä¸æ˜¯ä¸€ä¸ªæ•°é‡çº§çš„äº†ã€‚ä¸è¿‡è¿™ä¹Ÿè¦æ±‚ä½¿ç”¨è€…å¯¹å‰ç«¯çš„æŠ€æœ¯æ ˆè¶³å¤Ÿäº†è§£ã€‚</p>\n<p>å¦ä¸€æ–¹é¢ï¼Œgatsby æŠŠ graphql ä½œä¸ºé»˜è®¤çš„æ•°æ®æŸ¥è¯¢è¯­è¨€ï¼Œå¯¹äºç†Ÿæ‚‰ graphql çš„äººæ¥è¯´è‡ªç„¶æ˜¯éå¸¸ä¾¿åˆ©ï¼Œä½†ä¹Ÿä¸€å®šç¨‹åº¦ä¸Šæå‡äº†ä½¿ç”¨é—¨æ§›ã€‚</p>\n<h2 id=\"åç»­å·¥ä½œ\" style=\"position:relative;\">åç»­å·¥ä½œ<a href=\"#%E5%90%8E%E7%BB%AD%E5%B7%A5%E4%BD%9C\" aria-label=\"åç»­å·¥ä½œ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<ol>\n<li>å¢åŠ æ ·å¼ï¼Œç›®å‰æ˜¯ plain htmlï¼Œåªæœ‰ä»£ç å—æ˜¯èŠ±èŠ±ç»¿ç»¿çš„</li>\n<li>SEO ä¼˜åŒ–</li>\n<li>é¦–é¡µï¼Œè¿™éƒ¨åˆ†åœ¨ jekyll çš„æ—¶å€™æ˜¯ä¸ªåˆ†é¡µï¼Œç°åœ¨æƒ³è¦åšç±»ä¼¼çš„å®ç°</li>\n<li>tags çš„å±•ç¤ºå’ŒæŒ‰ç…§ tags ç½—åˆ—æ–‡ç« ï¼Œè¿™ä¹Ÿæ˜¯ä¹‹å‰ jekyll çš„åŠŸèƒ½ï¼Œä¹Ÿå¸Œæœ›åšæˆç±»ä¼¼çš„æ ·å­</li>\n</ol>\n<h2 id=\"ç›¸å…³èµ„æº\" style=\"position:relative;\">ç›¸å…³èµ„æº<a href=\"#%E7%9B%B8%E5%85%B3%E8%B5%84%E6%BA%90\" aria-label=\"ç›¸å…³èµ„æº permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>æŠŠå‡ ä¸ªç”¨åˆ°ä½†æ˜¯æ²¡æœ‰æåŠçš„é“¾æ¥æ”¾åˆ°è¿™é‡Œï¼š</p>\n<ul>\n<li><a href=\"https://deborah-digges.github.io/2020/09/16/Jekyll-to-Gatsby/\">From Jekyll to Gatsby: 7 Simple Steps</a></li>\n<li><a href=\"https://www.gatsbyjs.com/docs/how-to/routing/adding-markdown-pages/\">Adding Markdown Pages</a></li>\n<li><a href=\"https://www.gatsbyjs.com/docs/reference/routing/creating-routes/#using-gatsby-nodejs\">Create routing</a></li>\n</ul>","fields":{"slug_without_date":"/blog-migrate-from-jekyll-to-gatsby"}},{"id":"eb9d3f5f-0e83-5c22-95c2-3826db96cfd9","frontmatter":{"title":"Github Actions ä¸ Github è‡ªèº« API é›†æˆç”Ÿæˆå‘¨æŠ¥","date":"2021 July-01"},"html":"<p>æœ€è¿‘åˆç”¨ Github Actions ç©å‡ºäº†èŠ±æ ·ã€‚è¿™é‡Œè®°å½•ä¸€ä¸‹é€šè¿‡ Github Api å’Œ Github Actions æ€ä¹ˆå»åšç»„ç»‡å†…çš„ commits ç»Ÿè®¡ã€‚</p>\n<h2 id=\"ä¸ºå•¥è¦è‡ªå·±åšç»Ÿè®¡\" style=\"position:relative;\">ä¸ºå•¥è¦è‡ªå·±åšç»Ÿè®¡<a href=\"#%E4%B8%BA%E5%95%A5%E8%A6%81%E8%87%AA%E5%B7%B1%E5%81%9A%E7%BB%9F%E8%AE%A1\" aria-label=\"ä¸ºå•¥è¦è‡ªå·±åšç»Ÿè®¡ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>ä¹‹å‰ä¸€ç›´æœ‰ä¸€ä¸ªæƒ³æ³•ï¼Œèƒ½ä¸èƒ½é€šè¿‡ github çš„ api å»å°†ç»„ç»‡å†…çš„å·¥ä½œé‡åšæˆæŠ¥è¡¨ä»¥æ–¹ä¾¿æŸ¥çœ‹æ¯ä¸ªäººå·¥ä½œçš„è¿›åº¦ä»¥åŠå„ä¸ª issue çš„è¿›å±•ã€‚åšäº†ç®€å•çš„è°ƒç ”ï¼Œå‘ç°ç°æœ‰çš„ä¸œè¥¿éƒ½ä¸å¤ªèƒ½æ»¡è¶³å…·ä½“çš„éœ€æ±‚ï¼š</p>\n<ol>\n<li>æˆ‘å¸Œæœ›ç»Ÿè®¡ org ä¸‹æ‰€æœ‰ä»“åº“çš„æ•°æ®ï¼Œè€Œä¸æ˜¯å•ä¸ªä»“åº“ï¼ˆç›®å‰æ‰€åœ¨ç»„ç»‡é‡Œæœ‰ 100+ ä¸ªä»“åº“ï¼‰</li>\n<li>ç›®å‰ org å†…ä»¥ issue ä½œä¸ºå·¥ä½œçš„ä¸€ä¸ªæœ€å°å•ä½ï¼Œå¸Œæœ›æäº¤çš„ commit éƒ½ä¸ issue åšå…³è”ï¼Œé‚£ä¹ˆåŠ¿å¿…éœ€è¦ç»Ÿè®¡æ¯ä¸ªå‘¨æœŸå†… issue çš„è¿›å±•ä»¥åŠå…³è”çš„ commit åšç»Ÿè®¡ï¼Œæ˜¾ç„¶ç°æœ‰çš„ <a href=\"https://docs.github.com/en/github/visualizing-repository-data-with-graphs/accessing-basic-repository-data/viewing-a-summary-of-repository-activity\">insights</a> ä¹Ÿæ˜¯ä¸å¤ªå¤Ÿçš„</li>\n</ol>\n<p>ç„¶åå°±å»è¯„ä¼°äº†ä¸‹è‡ªå·±åšç»Ÿè®¡çš„å·¥ä½œé‡ã€‚github æ—©å·²ç»å‘å¸ƒäº† GraphQL çš„ API å¹¶ä¸”é€šè¿‡ <a href=\"https://docs.github.com/en/graphql/overview/explorer\">explorer</a> å»æµ‹è¯•å’Œä½¿ç”¨å…¶ API çš„ä½“éªŒæ˜¯ç›¸å½“å¥½äºæ˜¯å°±å¿ƒåŠ¨äº†ï¼Œå†³å®šè‡ªå·±åšè¿™ä¸ªç»Ÿè®¡ã€‚</p>\n<h2 id=\"å…ˆçœ‹çœ‹æœ€ç»ˆæ•ˆæœ\" style=\"position:relative;\">å…ˆçœ‹çœ‹æœ€ç»ˆæ•ˆæœ<a href=\"#%E5%85%88%E7%9C%8B%E7%9C%8B%E6%9C%80%E7%BB%88%E6%95%88%E6%9E%9C\" aria-label=\"å…ˆçœ‹çœ‹æœ€ç»ˆæ•ˆæœ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>æŠ¥è¡¨æ•°æ®ä¸»è¦åŒ…æ‹¬æ¯ä¸ªäººçš„æ´»è·ƒæ•°æ®ä»¥åŠæ¯ä¸ªäººæ‰€æ¶‰åŠçš„ issueã€‚</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 669px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c3806d03a6c11981ad9fe6ac95454325/99272/2021-07-02-01-00-14.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 65.49999999999999%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABNElEQVQoz5WSu07EQAxF8/+fwCdQUFIgIdFQQMWjAaFlYTebZGY8Hs8rz3mgBJGW7JULy9LxvbJcaGPqshR11TTN4XBUivJmFdM4fkr/IVttndbaeR8WbYJzjLcsXlUZSSNKRQQAfd+nLXAM4bqKD2LkgAIJEbuuizFtdA6X3+FiF26OHcPZVhvb+jal//kixfBY+5dKAWeAUgAQmXGaNsXOOd/z6UmOVhMZY50bhmHrwZz3QiIqEgBam3yOZhhR0gIrovSnTfCrzXeYnxfLlPNKrTt+h3Ot/Qqbtj9wBNsu7xHPix1jUCiN1qiUAPDO+9Yb51AwqyzYoF0o5cBpJB+VC19sAN1574dxKlJKnPOaMcZ5eTpxARyAquZtJ/elfT91u3quPes5ekBNdhimOE0hxvQDyRL0FtUprv0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2021 07 02 01 00 14\"\n        title=\"2021 07 02 01 00 14\"\n        src=\"/static/c3806d03a6c11981ad9fe6ac95454325/99272/2021-07-02-01-00-14.png\"\n        srcset=\"/static/c3806d03a6c11981ad9fe6ac95454325/772e8/2021-07-02-01-00-14.png 200w,\n/static/c3806d03a6c11981ad9fe6ac95454325/e17e5/2021-07-02-01-00-14.png 400w,\n/static/c3806d03a6c11981ad9fe6ac95454325/99272/2021-07-02-01-00-14.png 669w\"\n        sizes=\"(max-width: 669px) 100vw, 669px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"å…·ä½“æ€ä¹ˆåš\" style=\"position:relative;\">å…·ä½“æ€ä¹ˆåš<a href=\"#%E5%85%B7%E4%BD%93%E6%80%8E%E4%B9%88%E5%81%9A\" aria-label=\"å…·ä½“æ€ä¹ˆåš permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<h3 id=\"ç”¨åˆ°çš„-graphql-api\" style=\"position:relative;\">ç”¨åˆ°çš„ GraphQL API<a href=\"#%E7%94%A8%E5%88%B0%E7%9A%84-graphql-api\" aria-label=\"ç”¨åˆ°çš„ graphql api permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>é¦–å…ˆï¼Œæˆ‘é›†æˆçš„æ˜¯ Github çš„ GraphQL API ä¸»è¦ç”¨åˆ°äº†ä»¥ä¸‹å‡ ä¸ªæ¥å£ï¼š</p>\n<h4 id=\"1-è·å–ç»„ç»‡å†…çš„-repositories\" style=\"position:relative;\">1. è·å–ç»„ç»‡å†…çš„ repositories<a href=\"#1-%E8%8E%B7%E5%8F%96%E7%BB%84%E7%BB%87%E5%86%85%E7%9A%84-repositories\" aria-label=\"1 è·å–ç»„ç»‡å†…çš„ repositories permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token keyword\">query</span> <span class=\"token definition-query function\">Repositories</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$username</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">String</span><span class=\"token operator\">!</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$cursor</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">String</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property-query\">organization</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">login</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$username</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property-query\">repositories</span><span class=\"token punctuation\">(</span>\n      <span class=\"token attr-name\">first</span><span class=\"token punctuation\">:</span> <span class=\"token number\">100</span>\n      <span class=\"token attr-name\">isLocked</span><span class=\"token punctuation\">:</span> <span class=\"token boolean\">false</span>\n      <span class=\"token attr-name\">orderBy</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token attr-name\">field</span><span class=\"token punctuation\">:</span> <span class=\"token constant\">PUSHED_AT</span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">direction</span><span class=\"token punctuation\">:</span> <span class=\"token constant\">DESC</span> <span class=\"token punctuation\">}</span>\n      <span class=\"token attr-name\">after</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$cursor</span>\n    <span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token object\">pageInfo</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">hasNextPage</span>\n        <span class=\"token property\">endCursor</span>\n      <span class=\"token punctuation\">}</span>\n      <span class=\"token object\">edges</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token object\">node</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token property\">pushedAt</span>\n          <span class=\"token property\">name</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"2-è·å–-repository-ä¸‹çš„-commits\" style=\"position:relative;\">2. è·å– repository ä¸‹çš„ commits<a href=\"#2-%E8%8E%B7%E5%8F%96-repository-%E4%B8%8B%E7%9A%84-commits\" aria-label=\"2 è·å– repository ä¸‹çš„ commits permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token keyword\">query</span> <span class=\"token definition-query function\">Commits</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$owner</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">String</span><span class=\"token operator\">!</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$name</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">String</span><span class=\"token operator\">!</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$cursor</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">String</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property-query\">repository</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">owner</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$owner</span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">name</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token object\">defaultBranchRef</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token object\">target</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token operator\">...</span> <span class=\"token keyword\">on</span> <span class=\"token class-name\">Commit</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token property-query\">history</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">first</span><span class=\"token punctuation\">:</span> <span class=\"token number\">30</span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">after</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$cursor</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token object\">pageInfo</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token property\">hasNextPage</span>\n              <span class=\"token property\">endCursor</span>\n            <span class=\"token punctuation\">}</span>\n            <span class=\"token object\">edges</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token object\">node</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token object\">author</span> <span class=\"token punctuation\">{</span>\n                  <span class=\"token object\">user</span> <span class=\"token punctuation\">{</span>\n                    <span class=\"token property\">name</span>\n                    <span class=\"token property\">login</span>\n                  <span class=\"token punctuation\">}</span>\n                <span class=\"token punctuation\">}</span>\n                <span class=\"token property\">commitUrl</span>\n                <span class=\"token property\">abbreviatedOid</span>\n                <span class=\"token property\">pushedDate</span>\n                <span class=\"token property\">additions</span>\n                <span class=\"token property\">deletions</span>\n                <span class=\"token property\">message</span>\n              <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h4 id=\"3-è·å–-issue\" style=\"position:relative;\">3. è·å– issue<a href=\"#3-%E8%8E%B7%E5%8F%96-issue\" aria-label=\"3 è·å– issue permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token keyword\">query</span> <span class=\"token definition-query function\">Issue</span><span class=\"token punctuation\">(</span><span class=\"token variable\">$owner</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">String</span><span class=\"token operator\">!</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$name</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">String</span><span class=\"token operator\">!</span><span class=\"token punctuation\">,</span> <span class=\"token variable\">$number</span><span class=\"token punctuation\">:</span> <span class=\"token scalar\">Int</span><span class=\"token operator\">!</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token property-query\">repository</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">owner</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$owner</span><span class=\"token punctuation\">,</span> <span class=\"token attr-name\">name</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$name</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property-query\">issue</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">number</span><span class=\"token punctuation\">:</span> <span class=\"token variable\">$number</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">title</span>\n      <span class=\"token property\">url</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>ä½¿ç”¨çš„ Client å°±æ˜¯ Apollo GraphQL Clientã€‚</p>\n<h3 id=\"å¯¹æ¯ä¸ªäººçš„æ´»åŠ¨é‡åšç»†èŠ‚å¤„ç†\" style=\"position:relative;\">å¯¹æ¯ä¸ªäººçš„æ´»åŠ¨é‡åšç»†èŠ‚å¤„ç†<a href=\"#%E5%AF%B9%E6%AF%8F%E4%B8%AA%E4%BA%BA%E7%9A%84%E6%B4%BB%E5%8A%A8%E9%87%8F%E5%81%9A%E7%BB%86%E8%8A%82%E5%A4%84%E7%90%86\" aria-label=\"å¯¹æ¯ä¸ªäººçš„æ´»åŠ¨é‡åšç»†èŠ‚å¤„ç† permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>åŸå§‹çš„ Commit åŒ…å«è¡Œçš„å¢åŠ å’Œåˆ å‡ï¼Œä½†è¿™é‡Œæœ‰ä¸ªé—®é¢˜ï¼š</p>\n<ol>\n<li>å¾ˆå¤šä»£ç å…¶å®æ˜¯è‡ªåŠ¨ç”Ÿæˆçš„ï¼Œè¿™éƒ¨åˆ†å¹¶ä¸èƒ½ç®—æ˜¯ä¸ªäººçš„å·¥ä½œé‡ï¼Œå¹¶ä¸”è¿™ç§ç”Ÿæˆä»£ç çš„è§„æ¨¡å¯¹äºä¸åŒç¼–ç¨‹è¯­è¨€ä¹Ÿæœ‰å¾ˆå¤§å·®å¼‚ï¼Œå¸Œæœ›åœ¨ç»Ÿè®¡æ—¶å¿½ç•¥è¿™äº›è‡ªåŠ¨ç”Ÿæˆçš„ä»£ç </li>\n<li>æœ‰ä¸€äº› Merge commit å…¶å®ä¹Ÿä¸èƒ½ç®—æ˜¯ä¸ªäººå·¥ä½œé‡ï¼Œä¹Ÿåº”è¯¥å‰”é™¤</li>\n<li>ä¸åŒç¼–ç¨‹è¯­è¨€çš„å·¥ä½œè§„æ¨¡æœ‰å·®å¼‚ï¼Œæ¯”å¦‚å‰ç«¯ js é€šå¸¸ç”Ÿäº§å‡ºæ¥çš„ä»£ç è§„æ¨¡å°±æ¯”å†™ python çš„è¦å¤§ä¸å°‘ï¼Œçº¯ç²¹æŒ‰ç…§è¡Œæ•°ç»Ÿè®¡æ²¡æœ‰å¯æ¯”æ€§</li>\n</ol>\n<p>è¿™é‡Œæˆ‘å¤„ç†äº†å‰ä¸¤ä¸ªï¼Œç¬¬ä¸‰ä¸ªæ„Ÿè§‰æœ‰ç‚¹å¤æ‚ï¼Œå¹¶ä¸”æˆ‘ä¹Ÿè§‰å¾—æ²¡å¿…è¦å¦‚æ­¤ä»”ç»†çš„é‡åŒ–ã€‚</p>\n<h4 id=\"é€šè¿‡-node-ignore-å»è¿‡æ»¤æ‰é‚£äº›ç”Ÿæˆä»£ç \" style=\"position:relative;\">é€šè¿‡ <code>node-ignore</code> å»è¿‡æ»¤æ‰é‚£äº›ç”Ÿæˆä»£ç <a href=\"#%E9%80%9A%E8%BF%87-node-ignore-%E5%8E%BB%E8%BF%87%E6%BB%A4%E6%8E%89%E9%82%A3%E4%BA%9B%E7%94%9F%E6%88%90%E4%BB%A3%E7%A0%81\" aria-label=\"é€šè¿‡ node ignore å»è¿‡æ»¤æ‰é‚£äº›ç”Ÿæˆä»£ç  permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p><a href=\"https://github.com/kaelzhang/node-ignore\">node-ignore</a> æ˜¯ä¸€ä¸ªå¾ˆä¸é”™çš„åº“ï¼Œå®ç°äº† gitignore çš„æ ‡å‡†ï¼Œç”¨è¿™ä¸ªæˆ‘ä»¬å°±å¯ä»¥å°†æ¯ä¸ª commit çš„æ¯ä¸ªæ–‡ä»¶æ‰«ä¸€éï¼Œè¿‡æ»¤æ‰é‚£äº›æ¨¡æ¿çš„æ–‡ä»¶åé‡æ–°ç»Ÿè®¡åˆ å‡å°±å¥½äº†ã€‚</p>\n<p>è¿™é‡Œåæ§½ Github GraphQL API å‘ç°å…¶å¹¶æ²¡æœ‰å®ç°å…·ä½“ä¸€ä¸ª commit ä¸‹æ–‡ä»¶ä¿®æ”¹çš„æ¥å£ï¼Œè¿˜éœ€è¦æˆ‘å»è°ƒç”¨ REST çš„æ¥å£ã€‚</p>\n<h4 id=\"é€šè¿‡-commit-message-è¿‡æ»¤æ‰-merge-çš„-commit\" style=\"position:relative;\">é€šè¿‡ commit message è¿‡æ»¤æ‰ Merge çš„ commit<a href=\"#%E9%80%9A%E8%BF%87-commit-message-%E8%BF%87%E6%BB%A4%E6%8E%89-merge-%E7%9A%84-commit\" aria-label=\"é€šè¿‡ commit message è¿‡æ»¤æ‰ merge çš„ commit permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>è¿™é‡Œä¼¼ä¹æœ‰ç‚¹ä¸å¤ªä¸¥è°¨ï¼Œä½†æ˜¯ä¼¼ä¹é—®é¢˜ä¸å¤§å§...</p>\n<h3 id=\"ç”¨-ejs-åšæ¨¡æ¿ç”Ÿæˆ-markdown\" style=\"position:relative;\">ç”¨ ejs åšæ¨¡æ¿ç”Ÿæˆ markdown<a href=\"#%E7%94%A8-ejs-%E5%81%9A%E6%A8%A1%E6%9D%BF%E7%94%9F%E6%88%90-markdown\" aria-label=\"ç”¨ ejs åšæ¨¡æ¿ç”Ÿæˆ markdown permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>è‡ªä»ç”¨äº† react ä¼¼ä¹å¾ˆå°‘å’Œå„ç§æ¨¡æ¿å¼•æ“æ‰“äº¤é“äº†ã€‚ä¸Šæ¬¡ä½¿ç”¨ç±»ä¼¼çš„ä¸œè¥¿è¿˜æ˜¯ç”¨ freemarker åšç®€å•çš„æ–‡æœ¬å†…å®¹æ¨¡æ¿ã€‚è¿™æ¬¡æˆ‘ä¹Ÿåšäº†ç®€å•çš„è°ƒç ”ï¼Œçœ‹äº† mustache handlebars å’Œ ejs æœ€åè¿˜æ˜¯è§‰å¾— ejs è¿™ç§å¯ä»¥ç›´æ¥å†™ js çš„æ¯”è¾ƒèˆ’æœã€‚å°¤å…¶æ˜¯æˆ‘åœ¨å°è¯• mustache çš„æ—¶å€™æ²¡æ‰¾åˆ°å»è¿­ä»£ Object çš„æ–¹æ³•...</p>\n<p>å†™å‡ºæ¥å°±æ˜¯è¿™ä¸ªæ ·å­ï¼Œå®åœ¨æ˜¯å¥½ä¹…æ²¡å†™ nodejs ä»¥åŠå¯¹ ejs ä¹Ÿæ˜¯ç°å­¦ç°ç”¨...</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">## Commit Summary\n\n&lt;% Object.keys(userCommitSummary).forEach(function(username) { -%>\n- &lt;%= username %>: &lt;%= userCommitSummary[username].commitCount %> commits +&lt;%= userCommitSummary[username].additions %> -&lt;%= userCommitSummary[username].deletions %>\n&lt;% }); -%>\n\n## Issue Summary\n\n&lt;% Object.keys(userIssueSummary).forEach(function(username) { -%>\n### &lt;%= username %>\n\nå·¥ä½œæ¶‰åŠ &lt;%= userIssueSummary[username].issueCount %> ä¸ª issueï¼š\n&lt;% userIssueSummary[username].issues.forEach(function(issue) { %>\n- &lt;%= issue -%>\n&lt;% }); %>\n\n&lt;% }); -%>\n\n## Commit Details\n\n&lt;% Object.keys(userRepositoryCommitsDetails).forEach(function(username) { -%>\n### &lt;%= username %>\n  &lt;% Object.keys(userRepositoryCommitsDetails[username]).forEach(function(repo) { %>\n####  &lt;%= repo %>\n\n    &lt;%_ userRepositoryCommitsDetails[username][repo].forEach(function(commit) { -%>\n- &lt;%= commit.url %> - &lt;%= commit.message %> &lt;&lt;%= commit.pushedDate %>>\n    &lt;%_ }); -%>\n  &lt;% }); -%>\n\n&lt;% }); -%></code></pre></div>\n<h3 id=\"ç”¨-github-actions-å»è·‘ä»»åŠ¡åšå‘¨æœŸæ€§ç»Ÿè®¡\" style=\"position:relative;\">ç”¨ github actions å»è·‘ä»»åŠ¡åšå‘¨æœŸæ€§ç»Ÿè®¡<a href=\"#%E7%94%A8-github-actions-%E5%8E%BB%E8%B7%91%E4%BB%BB%E5%8A%A1%E5%81%9A%E5%91%A8%E6%9C%9F%E6%80%A7%E7%BB%9F%E8%AE%A1\" aria-label=\"ç”¨ github actions å»è·‘ä»»åŠ¡åšå‘¨æœŸæ€§ç»Ÿè®¡ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> statistics of github org\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">workflow_dispatch</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">inputs</span><span class=\"token punctuation\">:</span>\n      <span class=\"token key atrule\">timezone</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"TimeZone default is +8\"</span>\n        <span class=\"token key atrule\">required</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n        <span class=\"token key atrule\">default</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Asia/Shanghai\"</span>\n      <span class=\"token key atrule\">date</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">description</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"Any date in the week, default is now\"</span>\n        <span class=\"token key atrule\">required</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">false</span>\n  <span class=\"token key atrule\">schedule</span><span class=\"token punctuation\">:</span>\n    <span class=\"token comment\"># https://crontab.guru</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">cron</span><span class=\"token punctuation\">:</span> 0 18 * * *\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">report</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Setup node\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/setup<span class=\"token punctuation\">-</span>node@v2\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">node-version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"14\"</span>\n          <span class=\"token key atrule\">check-latest</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> yarn\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> generate report\n        <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">GITHUB_TOKEN</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.GH_PAT <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> TZ=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>github.event.inputs.timezone<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> DATE=$<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>github.event.inputs.date<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span> node main.js\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Upload results\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/upload<span class=\"token punctuation\">-</span>artifact@v2\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> reports\n          <span class=\"token key atrule\">path</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n            rawdata.json\n            report.md</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Prepare Issue Title\n        <span class=\"token key atrule\">id</span><span class=\"token punctuation\">:</span> issue_title\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n          export TZ=${{github.event.inputs.timezone}}\n          export DATE=${{github.event.inputs.date}}\n          echo ::set-output name=ISSUE_TITLE::$(node week.js)</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Create Issue From File\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> aisensiy/create<span class=\"token punctuation\">-</span>issue<span class=\"token punctuation\">-</span>from<span class=\"token punctuation\">-</span>file@af97df85a971093700b62d1bde8339c4fabb35ff\n        <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">title</span><span class=\"token punctuation\">:</span> Weekly Statistics $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>steps.issue_title.outputs.ISSUE_TITLE<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.GH_PAT <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">update-existing</span><span class=\"token punctuation\">:</span> <span class=\"token boolean important\">true</span>\n          <span class=\"token key atrule\">content-filepath</span><span class=\"token punctuation\">:</span> ./report.md\n          <span class=\"token key atrule\">labels</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">|</span><span class=\"token scalar string\">\n            report</span>\n</code></pre></div>\n<p>é¦–å…ˆï¼Œè¿™é‡Œä½¿ç”¨äº†ä¸¤ä¸ª github workflow çš„ triggerï¼š</p>\n<ul>\n<li>schedule ä¹Ÿå°±æ˜¯ cron ç”¨äºå‘¨æœŸæ€§è·‘ä»»åŠ¡</li>\n<li>workflow_dispatch å¯ä»¥æä¾›ä¸ªç®€å•çš„è¡¨å•ï¼Œç”¨æ¥ä¸»åŠ¨å»åˆ›å»ºä¸€ä¸ª workflow</li>\n</ul>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/85118802a9232dab272a6133372e6368/a0b80/2021-07-02-01-23-57.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 41.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABMElEQVQY01WNy27cMAxF/f+f0l323XVfZDNtgklmMHl5MrYkUg9KFkWqsYPmcXAgEAIO7uDAj6+zhUClUuG8ud2f+kgYEviEgZxPPhUIJKrD/VR3z+nmXG4v9eZc/o5l95z2E98b/aIc7PreGTle0vHFnqZUWx+eID5M4XGKp0s4Q5mjXAKbJJb6f9XFOmMG4lR7KpyohMwsOviMzllnV0rJjbkx9+8E78dxRIQu8v4jIio6WMLJGGPdbCxRrpVrrar9Q5GeKBmwkVKtS5MmIq01WZdLdIiIHgBLWXjj66x2DWGxU/K4GIizC54qLU11jYNzAIDOAeVcNz5L1d7775fDj92v6/MpLd0XxdJD3mLIiN4HHxH9mqm+Bx+zvfc/0/5q//PWHLS1TMS1MvNb/A+KTsqL7RVgYQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2021 07 02 01 23 57\"\n        title=\"2021 07 02 01 23 57\"\n        src=\"/static/85118802a9232dab272a6133372e6368/5a190/2021-07-02-01-23-57.png\"\n        srcset=\"/static/85118802a9232dab272a6133372e6368/772e8/2021-07-02-01-23-57.png 200w,\n/static/85118802a9232dab272a6133372e6368/e17e5/2021-07-02-01-23-57.png 400w,\n/static/85118802a9232dab272a6133372e6368/5a190/2021-07-02-01-23-57.png 800w,\n/static/85118802a9232dab272a6133372e6368/a0b80/2021-07-02-01-23-57.png 955w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>ç„¶åï¼Œè¿™é‡Œåœ¨å®Œæˆç»Ÿè®¡åï¼ˆå°±æ˜¯ generate report è¿™ä¸ªæ­¥éª¤ï¼‰å°†æ‰€æœ‰çš„æ•°æ®åšæˆäº† artifact ä¿å­˜äº†ä¸‹æ¥ï¼Œæ–¹ä¾¿åç»­çš„æ•°æ®çš„è¿½æº¯ã€‚</p>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/183db6a9d17a90648b97b5707fd332e1/ef916/2021-07-02-01-25-25.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 68%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAIAAACgpqunAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABBklEQVQoz5VTa2vDMAz0//+RgzFWykicxvJDb42kK4OuK81xH4zk0wkhJSQqpUCtrfU+hkf0MUQ1IpAJAERNREoBEfWI1rqaeYRHpGmeTqcT1LqWlYgiYl1XAIiI0fuyLBHBzDln3Ssyc9yQRM09zHxzUGVRFmEWFpWde0Rvqd8Hi6Zlhbf3j/PX3AZ15ENMtWO+lHwpK/SG3A6JOzHgQNr6JBZiOSAGGp/LufdtzuauZog0SF5zRu5j67YN+uHrzvsAjUhwIx9iIqI8ZxGJ40iIOE1TrQ3HcPeHn9zjYSbJthL83MFUr8t3L66tTfPcWnsmNoMK5vbHea8qIv4/zLbbMLO7+Dcw0TR6psAb7gAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Artifact å¯ä»¥ç›´æ¥ä¸‹è½½ä¸‹æ¥\"\n        title=\"Artifact å¯ä»¥ç›´æ¥ä¸‹è½½ä¸‹æ¥\"\n        src=\"/static/183db6a9d17a90648b97b5707fd332e1/5a190/2021-07-02-01-25-25.png\"\n        srcset=\"/static/183db6a9d17a90648b97b5707fd332e1/772e8/2021-07-02-01-25-25.png 200w,\n/static/183db6a9d17a90648b97b5707fd332e1/e17e5/2021-07-02-01-25-25.png 400w,\n/static/183db6a9d17a90648b97b5707fd332e1/5a190/2021-07-02-01-25-25.png 800w,\n/static/183db6a9d17a90648b97b5707fd332e1/ef916/2021-07-02-01-25-25.png 815w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">Artifact å¯ä»¥ç›´æ¥ä¸‹è½½ä¸‹æ¥</figcaption>\n  </figure></p>\n<p>æœ€åï¼Œé€šè¿‡ä¸€ä¸ª create-issue-from-file çš„ github action å°† report çš„å†…å®¹åˆ›å»ºæˆä¸€ä¸ª issue å±•ç¤ºå‡ºæ¥ï¼Œå±•ç¤ºå‡ºæ¥å°±æ˜¯ä¸Šæ–‡çš„æˆªå›¾çš„æ•ˆæœäº†ã€‚</p>\n<blockquote>\n<p>è¿™é‡Œæˆ‘ä¸ºäº†é¿å…æ¯æ¬¡æ‰§è¡Œéƒ½åˆ›å»ºé‡å¤æ€§çš„å†…å®¹è¿˜ç‰¹æ„æŠŠåŸæ¥çš„ action åšäº†ä¿®æ”¹ï¼Œæäº¤äº† PR <a href=\"https://github.com/aisensiy/create-issue-from-file\">https://github.com/aisensiy/create-issue-from-file</a> ã€‚</p>\n</blockquote>\n<h2 id=\"æ€»ç»“\" style=\"position:relative;\">æ€»ç»“<a href=\"#%E6%80%BB%E7%BB%93\" aria-label=\"æ€»ç»“ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<ul>\n<li>GraphQL çš„ API ç›¸å¯¹äº REST æ›´å®¹æ˜“ä¸Šæ‰‹</li>\n<li>äº†è§£äº† Github Actions é™¤äº† CI/CD çš„åŠŸèƒ½å¤–è¿˜èƒ½åšå¾ˆå¤šå¥‡å¥‡æ€ªæ€ªçš„ä¸œè¥¿ï¼Œç”šè‡³è®©æˆ‘è§‰å¾—å®ƒæ˜¯ä¸€ä¸ª serverless å¹³å°ï¼Œè¿™é‡Œè¿˜çœ‹åˆ°å¦å¤–ä¸€ä¸ªæ–°å¥‡çš„ä½¿ç”¨æ–¹å¼ <a href=\"https://github.blog/2020-06-17-using-github-actions-for-mlops-data-science/\">https://github.blog/2020-06-17-using-github-actions-for-mlops-data-science/</a></li>\n<li>è‡ªå·±æ’°å†™ Github Actions ä¼¼ä¹æŒºç®€å•çš„ï¼Œæ–‡æ¡£è¿˜ç®—æ˜¯æ¯”è¾ƒæ¸…æ¥šï¼Œä¸è¿‡é‚£ä¸ª <a href=\"https://docs.github.com/en/actions/reference/workflow-syntax-for-github-actions#jobsjob_idoutputs\">outputs</a> ç¡®å®æ˜¯èŠ±äº†äº›æ—¶é—´</li>\n</ul>","fields":{"slug_without_date":"/github-actions-integration-with-github"}},{"id":"9ed405fc-55bf-5469-b5a6-8c0d70dcf561","frontmatter":{"title":"Real World çš„ GraphQL ç‰ˆæœ¬","date":"2021 June-16"},"html":"<p>åœ¨å¾ˆä¹…ä¹‹å‰çš„ä¸€ç¯‡ <a href=\"/real-world-spring-boot-and-mybatis\">æ–‡ç« </a> ä»‹ç»äº†æˆ‘åšçš„ä¸€ä¸ª <a href=\"https://github.com/gothinkster/spring-boot-realworld-example-app\">RealWorld çš„ SpringBoot + MyBatis</a> çš„å®ç°ã€‚è¿™ä¸ªé¡¹ç›®æˆ‘ä¹Ÿä¸€ç›´åœ¨ç»´æŠ¤ï¼Œä¸€æ–¹é¢æ˜¯å› ä¸ºè¿™æ˜¯ä¸€ä¸ªå¾ˆå¥½çš„ demo é¡¹ç›®ï¼Œå¯ä»¥å¾ˆå¥½çš„ä½“ç°ä¸€äº›è®¾è®¡æ€è·¯ <a href=\"/real-world-spring-boot-and-mybatis\">æ–‡ç« </a> ä¹Ÿéƒ½è¯´äº†ä¸å†é‡å¤ã€‚å¦ä¸€æ–¹é¢ï¼Œæˆ‘è§‰å¾—ä¹Ÿæ˜¯ä¸€ä¸ªæ–°äººç»ƒæ‰‹ä¸é”™çš„é€‰æ‹©ï¼Œå¯ä»¥è®©å¤§å®¶å¯ä»¥é€šè¿‡è¿™ä¸ªé¡¹ç›®æ¥å…¥é—¨ã€‚</p>\n<p>æœ€è¿‘åœ¨åš GraphQL çš„è°ƒç ”å’Œæµ‹è¯•ï¼Œæˆ‘ç¬¬ä¸€ä¸ªæƒ³åˆ°çš„å°±æ˜¯æŠŠè¿™ä¸ªé¡¹ç›®æ·»åŠ ä¸Š GraphQL çš„æ¥å£ï¼Œä¸€æ–¹é¢å¯ä»¥ç†Ÿæ‚‰ GraphQL çš„ä½“ç³»ï¼Œå¦ä¸€æ–¹é¢ä¹Ÿæ˜¯ä¸ªå¾ˆå¥½çš„æœºä¼šå»éªŒè¯ä¸‹æ˜¯ä¸æ˜¯ REST å±‚æ˜¯æŒ‰ç…§ <a href=\"https://alistair.cockburn.us/Hexagonal+architecture\">å…­è¾¹å½¢æ¶æ„</a> æˆ–è€…è¯´æ˜¯ <a href=\"https://www.infoq.com/news/2014/10/ddd-onion-architecture\">æ´‹è‘±æ¶æ„</a> é‚£æ ·å­åšæˆçš„æ˜¯è–„è–„çš„ä¸€å±‚ï¼Œå¯ä»¥è½»æ˜“çš„è¢«æ›¿æ¢æ‰ã€‚</p>\n<h2 id=\"å¯¹-api-å±‚ä¸-application-å±‚åšé‡æ„\" style=\"position:relative;\">å¯¹ api å±‚ä¸ application å±‚åšé‡æ„<a href=\"#%E5%AF%B9-api-%E5%B1%82%E4%B8%8E-application-%E5%B1%82%E5%81%9A%E9%87%8D%E6%9E%84\" aria-label=\"å¯¹ api å±‚ä¸ application å±‚åšé‡æ„ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>å½“ç„¶ï¼Œapi å±‚å’Œ application å±‚ä¸€ç‚¹éƒ½ä¸ä¿®æ”¹å°±èƒ½æ·»åŠ  GraphQL æ˜¯ä¸å¯èƒ½çš„ã€‚ä¸»è¦æ˜¯å› ä¸ºä¹‹å‰æœ‰ä¸å°‘çš„é€»è¾‘å†™åœ¨äº† SpringBoot çš„ Controller é‡Œé¢äº†ã€‚é‚£ä¹ˆè¿™ä¸€éƒ¨åˆ†çš„å·¥ä½œåŸºæœ¬å°±æ˜¯æŠŠå¤§é‡æ”¾åœ¨ Controller çš„ä»£ç æŒªåŠ¨åˆ° application å±‚ã€‚</p>\n<h2 id=\"ç¡®è®¤-graphql-çš„-schema\" style=\"position:relative;\">ç¡®è®¤ GraphQL çš„ schema<a href=\"#%E7%A1%AE%E8%AE%A4-graphql-%E7%9A%84-schema\" aria-label=\"ç¡®è®¤ graphql çš„ schema permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>ç„¶åå°±éœ€è¦æŒ‰ç…§ REST api æä¾›ä¸€ä¸ªå¯¹ç­‰çš„ GraphQL çš„ schema äº†ã€‚è¿™é‡Œå‚è€ƒçš„æ˜¯ <a href=\"https://github.com/thebergamo/realworld-graphql/blob/master/data/schema.graphql\">https://github.com/thebergamo/realworld-graphql/blob/master/data/schema.graphql</a> ã€‚</p>\n<blockquote>\n<p>Real World ä¼¼ä¹å¯¹ GraphQL è¿™éƒ¨åˆ†çš„å·¥ä½œä¸å¤ªä¸Šå¿ƒï¼Œè¿™ä¸ªä¸œè¥¿å·²ç»æŒºä¹…çš„äº†ï¼Œä½†æ˜¯å®˜æ–¹å¹¶æ²¡æœ‰å¾ˆå¥½çš„æ”¯æŒã€‚</p>\n</blockquote>\n<p>ä¸è¿‡å®ƒè¿™ä¸ª schema æ˜æ˜¾æœ‰ä¸¤ä¸ªé—®é¢˜ï¼š</p>\n<ol>\n<li>å°‘äº† <code>unfavoriteArticle</code> çš„ <code>Mutation</code></li>\n<li><code>deleteArticle</code> è¿”å›äº†é”™è¯¯çš„ç»“æœï¼Œæ˜æ˜åº”è¯¥æ˜¯ <code>DeletionStatus</code></li>\n</ol>\n<p>ç”¨ <a href=\"https://apis.guru/graphql-voyager/\">https://apis.guru/graphql-voyager/</a> åšå±•ç¤ºåŸºæœ¬å°±æ˜¯è¿™ä¸ªæ ·å­ï¼š</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/94ea71f61f1d7c04895366a54ea95552/73dae/2021-06-16-19-22-23.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 50%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAABo0lEQVQoz3VS227bMAz1///OsBXYw4A+7DHt2rTGmqQXX2TJlzjzXbIkn4FsUiRDR4CgREmH1DkM8I8ty4L/5Sg67zFbB++Xizzt/bIg+OyhsQ7NOKGdNAOQzdby+WMs8HW1xqsqsHgP69xF8eAcyB/jVih+9O02hNgf4L2HmWc+S1WOjchRtQOss5i0QdV0uI9S/BYKAYGdO1m1r5EIgViVODQdd0mAozZIpUK42aJpu4+u0qLE9d0Dft4/fv5lmRcINxs8xwliqfCn69H0A4y1DKSKEpPW3DlZ23V4SxJEaYag04b5osvEB7ksSwZKpEJZH+Aoby2GaWKfjEE7DGi6Hu0wIhISu9cX7GSF4PvNGl9WazxlBbx3zKPMc2RFgZc4Qd/32KoSV79CFM37N6moPwoyThrDpHlN6gepEJB1g6xuoY15r94P6IYR/Tiyursoxip8Qr4/MC2UIydBKF6o/CYyPMsSoqqZl56+P898UR+V3aYZftyusT926ByJZDmeuD954Lh1+0EwDykPqmenfVpWuIsytKNmPk8zeQ52Wv8FjwgDL6/mN3wAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2021 06 16 19 22 23\"\n        title=\"2021 06 16 19 22 23\"\n        src=\"/static/94ea71f61f1d7c04895366a54ea95552/5a190/2021-06-16-19-22-23.png\"\n        srcset=\"/static/94ea71f61f1d7c04895366a54ea95552/772e8/2021-06-16-19-22-23.png 200w,\n/static/94ea71f61f1d7c04895366a54ea95552/e17e5/2021-06-16-19-22-23.png 400w,\n/static/94ea71f61f1d7c04895366a54ea95552/5a190/2021-06-16-19-22-23.png 800w,\n/static/94ea71f61f1d7c04895366a54ea95552/c1b63/2021-06-16-19-22-23.png 1200w,\n/static/94ea71f61f1d7c04895366a54ea95552/29007/2021-06-16-19-22-23.png 1600w,\n/static/94ea71f61f1d7c04895366a54ea95552/73dae/2021-06-16-19-22-23.png 2122w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>schema åœ¨ <a href=\"https://github.com/gothinkster/spring-boot-realworld-example-app/blob/master/src/main/resources/schema/schema.graphqls\">https://github.com/gothinkster/spring-boot-realworld-example-app/blob/master/src/main/resources/schema/schema.graphqls</a> å¯ä»¥çœ‹åˆ°ã€‚</p>\n<p>å¯ä»¥çœ‹åˆ° GraphQL çš„ schema æ˜¯ä¸€å¼ å›¾ï¼Œæœ‰ç‚¹åƒæ˜¯æ•°æ®åº“çš„ <a href=\"https://www.guru99.com/er-diagram-tutorial-dbms.html\">ER Diagram</a>ã€‚ä¸è¿‡å¾ˆæ˜¾ç„¶ï¼ŒGraphQL çš„å…³ç³»è‚¯å®šä¸æ˜¯æ•°æ®åº“çº§åˆ«çš„ CRUD è€Œæ˜¯ä¸€ä¸ªä¸šåŠ¡å±‚çº§çš„å…³è”å›¾ï¼š</p>\n<ol>\n<li><code>User</code> çš„ <code>Profile</code> ä¸‹å¯ä»¥æœ‰å¾ˆå¤š <code>Article</code> çš„è§†å›¾ <code>favorites</code> <code>feed</code>ï¼›</li>\n<li><code>Article</code> åˆ™æœ‰å…¶è‡ªå·±çš„å…¨é‡å±æ€§ï¼š<code>author</code> <code>comments</code>ï¼›</li>\n<li><code>Comment</code> ä¹Ÿæœ‰è‡ªå·±çš„ <code>article</code> <code>author</code>ï¼›</li>\n</ol>\n<p>è¿™éƒ¨åˆ†è®©æˆ‘æƒ³èµ·æ¥ DDD ä¹¦ä¸­æåˆ°çš„ Domain Model å¯¹è±¡ä¹‹é—´çš„å…³è”å…³ç³»ï¼ˆç¬¬äº”ç«  A Model Expressed in Softwareï¼‰ã€‚å’Œ REST ç›¸æ¯”ï¼Œé€šè¿‡ GraphQL æ‰€ç»„ç»‡çš„ schema æœ‰æ›´å¥½çš„æ•´ä½“æ€§å’Œä¸€è‡´æ€§ã€‚å½“ç„¶ï¼Œè¿™ä¹Ÿæœ‰å¯èƒ½æ˜¯å®ƒçš„ç¼ºç‚¹ï¼šå®ƒç¼ºå°‘äº† REST çš„é‚£ç§éšä¾¿æä¸ªæ¥å£çš„çµæ´»æ€§ã€‚</p>\n<h2 id=\"å¢åŠ -graphql-çš„ä»£ç \" style=\"position:relative;\">å¢åŠ  GraphQL çš„ä»£ç <a href=\"#%E5%A2%9E%E5%8A%A0-graphql-%E7%9A%84%E4%BB%A3%E7%A0%81\" aria-label=\"å¢åŠ  graphql çš„ä»£ç  permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>è¿™é‡Œçš„å®ç°é‡‡ç”¨äº† <a href=\"https://netflix.github.io/dgs/\">Netflix DGS</a> è¿™ä¸ªæ¡†æ¶ï¼Œå¾ˆç¬¦åˆ SpringBoot çš„è®¾è®¡é€»è¾‘ï¼Œå¹¶ä¸”æœ€è¿‘ä¹Ÿä¸€ç›´åœ¨å¯†é›†çš„æ›´æ–°ä¸­ã€‚</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 252px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/106be036b30c8ae5022ab6f9fafc3496/5e02b/2021-06-16-20-03-53.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 126%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAAAsTAAALEwEAmpwYAAADr0lEQVQ4y42US4sjZRSGa6W/wP/hD9CFy1Zw4V4QFJcOggj+AXcDDjS0LYggyDCrsRGXIoyDdifpJJWq3FNJVZK635KqXLodh1fe0/2lkxkGXbw53y3ne+pcPk379A+89tlfeP3eOd78Wsc735h4+76Bt+4beOPLKrSPnkD75Cm0j/+n3j/t4L2TNj74foAvzqb46lcX9x7P8PnPc3z40wRHpwO8e9rH0UkXR9/2/lPa8+sV/l4vsS0y5GmMbqeNYb+LXsfEsGtiavVkD8+vgGcb4Nn2Zf1zJy3NckRxgqwowPF0NoPrerAdB3PXg+v5yBdLrNYblKv1gbhWlCvZXywLkRaEIWa2jfaDY1iVKsxeD61WC6ZpiqXq9ToqlQr0VgvNZhPtdlv2dV3HaDRCHMeIokik8cfzPLhNHcF0holtw7IsDAYDOUz1ej0Mh0MZ03K/3++L48lkgjRNkSSJSCuKAkkUwXr4CGF/AMd1MbYs2LaN8XgsThzHwdgaiw3DUKzruthsNqKyLLFarUTiME0SBOcVxCR0HLlV0ShLYl4wn8+FjpR0cHV1JaLjG4dliTSO4Zz9gtgaY+77NyFwXfi+Lw54AcckoyOuUTw3m80wnU7ls+n0hjBO4P72OxJ+mm0LlYqjouNat9uVeHKuiDlnLHnhncMkgffkKbL5HHGaylwFmRnkYSaPFMrmeS77tNfX1y98chTDfnyGaDhCnySdjtDw5k6nA72pwzAMKROWEddIxhLiWCXkLilpCv/8AinjFoaIo2hXW8wqSTjOskzE87Tb7XZHtl6vRULIshk/fASv3UG1XpebWbiXl5ciUpFWiWuMn3KmHB4QRrqBPAiQ5TmWy6UQkoL7nHO8WCzE8o9c55w1qJztYpiEEUY//AjXMKGTwjRxcXEhLUe6arUqajQau7ZkPLnGUuKnK0ohlLiMLBQkKku5XREokYRW7ZFadYgivIthGGJw8h1mjSb+rFRQrVRQq9Uks6TgmLS0Kssqzvufe0CY2Q6KLD+gym/jqepO0al4Uq8k7D04xrzRRI03G4bUGYlomVVmlzGkVSXCLO87OyBceD6WiwXSLBMq3k5LMsaKZzjmOpPAB2Hf2cuExyfw9BY6gwFq1equKxgrRcY5e5t77CTCvJIwHU9Q5gskaSqlwDoMgkDsfl+rDuLefg0edsotoW+YQsg6NPdEMhLxGWOG+dIoB/vOdoQ5CS0LyySBHwTy1rGH/du3kZZEtHwnufZihyiH/wLy0wNdJDaQBQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2021 06 16 20 03 53\"\n        title=\"2021 06 16 20 03 53\"\n        src=\"/static/106be036b30c8ae5022ab6f9fafc3496/5e02b/2021-06-16-20-03-53.png\"\n        srcset=\"/static/106be036b30c8ae5022ab6f9fafc3496/772e8/2021-06-16-20-03-53.png 200w,\n/static/106be036b30c8ae5022ab6f9fafc3496/5e02b/2021-06-16-20-03-53.png 252w\"\n        sizes=\"(max-width: 252px) 100vw, 252px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>ä»æ–‡ä»¶ç»„ç»‡ä¸Šçœ‹ï¼Œæ¯ä¸ª Entity æˆ–è€…æ˜¯ EntityList å¯ä»¥ç»„ç»‡ä¸€ä¸ª Datafetcher æä¾›ç»™å…·ä½“æŸä¸€ä¸ª <code>Query</code> ä¸‹çš„ç‰¹å®š type çš„æŸ¥è¯¢ã€‚è€Œé’ˆå¯¹æŸä¸ª Entity çš„ Mutation å¯ä»¥æ”¾åˆ°ä¸€èµ·ï¼Ÿè¿™éƒ¨åˆ†ä¸å¤ªç¡®å®šï¼Œå¯èƒ½è¿˜æ˜¯åˆšåˆšå¼€å§‹åšï¼Œæ„Ÿå—ä¸æ˜¯å¾ˆæ˜æ˜¾ã€‚</p>\n<h3 id=\"å¯¹äº-nested-query-çš„å¤„ç†\" style=\"position:relative;\">å¯¹äº nested query çš„å¤„ç†<a href=\"#%E5%AF%B9%E4%BA%8E-nested-query-%E7%9A%84%E5%A4%84%E7%90%86\" aria-label=\"å¯¹äº nested query çš„å¤„ç† permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>æ—¢ç„¶æ˜¯ä¸€å¼ å›¾ï¼Œé‚£ä¹ˆæŸ¥è¯¢å°±å¯ä»¥æ˜¯ä¸€ä¸ªæ ‘ï¼Œæ¯”å¦‚å¯ä»¥æœ‰è¿™ä¹ˆä¸€ä¸ªæŸ¥è¯¢ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token keyword\">query</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token object\">me</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token object\">profile</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token object\">articles</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token object\">edges</span> <span class=\"token punctuation\">{</span>\n          <span class=\"token object\">node</span> <span class=\"token punctuation\">{</span>\n            <span class=\"token object\">comments</span> <span class=\"token punctuation\">{</span>\n              <span class=\"token object\">edges</span> <span class=\"token punctuation\">{</span>\n                <span class=\"token object\">node</span> <span class=\"token punctuation\">{</span>\n                  <span class=\"token property\">body</span>\n                <span class=\"token punctuation\">}</span>\n              <span class=\"token punctuation\">}</span>\n            <span class=\"token punctuation\">}</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>è·å–å½“å‰ç”¨æˆ·çš„ <code>articles</code> å¹¶ä¸”åŒ…å«å®ƒçš„ <code>comment</code> çš„ <code>body</code>ã€‚ç±»ä¼¼çš„é—®é¢˜åœ¨ <a href=\"https://netflix.github.io/dgs/advanced/context-passing/\">Nested data fetchers</a> æœ‰åšä¸€äº›é˜è¿°ã€‚è€Œæˆ‘è¿™ä¸ªä¾‹å­å°±æ˜¯é‡åˆ°äº† <a href=\"https://netflix.github.io/dgs/advanced/context-passing/#no-showid-use-local-context\">https://netflix.github.io/dgs/advanced/context-passing/#no-showid-use-local-context</a> è¿™éƒ¨åˆ†é˜è¿°çš„æƒ…å†µï¼Œéœ€è¦è‡ªå·±åˆ›å»ºä¸€ä¸ª Map å¹¶æ”¾åˆ° localContext ä¸­åšä¼ é€’ã€‚å…·ä½“çš„ä»£ç å¦‚ä¸‹ï¼š</p>\n<p><code>ArticleDatafetcher.java</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">io<span class=\"token punctuation\">.</span>spring<span class=\"token punctuation\">.</span>graphql</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token annotation punctuation\">@DgsComponent</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">ArticleDatafetcher</span> <span class=\"token punctuation\">{</span>\n\n  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token annotation punctuation\">@DgsData</span><span class=\"token punctuation\">(</span>parentType <span class=\"token operator\">=</span> PROFILE<span class=\"token punctuation\">.</span>TYPE_NAME<span class=\"token punctuation\">,</span> field <span class=\"token operator\">=</span> <span class=\"token class-name\">PROFILE<span class=\"token punctuation\">.</span>Articles</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">DataFetcherResult</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ArticlesConnection</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">userArticles</span><span class=\"token punctuation\">(</span>\n      <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n      <span class=\"token class-name\">DgsDataFetchingEnvironment</span> dfe<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token class-name\">User</span> current <span class=\"token operator\">=</span> <span class=\"token class-name\">SecurityUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">getCurrentUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">orElse</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Profile</span> profile <span class=\"token operator\">=</span> dfe<span class=\"token punctuation\">.</span><span class=\"token function\">getSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token class-name\">CursorPager</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ArticleData</span><span class=\"token punctuation\">></span></span> articles<span class=\"token punctuation\">;</span>\n\n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token class-name\"><span class=\"token namespace\">graphql<span class=\"token punctuation\">.</span>relay<span class=\"token punctuation\">.</span></span>PageInfo</span> pageInfo <span class=\"token operator\">=</span> <span class=\"token function\">buildArticlePageInfo</span><span class=\"token punctuation\">(</span>articles<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">ArticlesConnection</span> articlesConnection <span class=\"token operator\">=</span>\n        <span class=\"token class-name\">ArticlesConnection</span><span class=\"token punctuation\">.</span><span class=\"token function\">newBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">pageInfo</span><span class=\"token punctuation\">(</span>pageInfo<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">edges</span><span class=\"token punctuation\">(</span>\n                articles<span class=\"token punctuation\">.</span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>\n                        a <span class=\"token operator\">-></span>\n                            <span class=\"token class-name\">ArticleEdge</span><span class=\"token punctuation\">.</span><span class=\"token function\">newBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">.</span><span class=\"token function\">cursor</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span><span class=\"token function\">getCursor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">.</span><span class=\"token function\">node</span><span class=\"token punctuation\">(</span><span class=\"token function\">buildArticleResult</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">.</span><span class=\"token function\">collect</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Collectors</span><span class=\"token punctuation\">.</span><span class=\"token function\">toList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token class-name\">DataFetcherResult</span><span class=\"token punctuation\">.</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">ArticlesConnection</span><span class=\"token punctuation\">></span></span><span class=\"token function\">newResult</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span>articlesConnection<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">localContext</span><span class=\"token punctuation\">(</span> <span class=\"token comment\">// è¿™é‡Œå°† slug : article çš„ map ä¼ é€’åˆ°ä¸‹ä¸€ä¸ªå±‚çº§äº†</span>\n            articles<span class=\"token punctuation\">.</span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">collect</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Collectors</span><span class=\"token punctuation\">.</span><span class=\"token function\">toMap</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">ArticleData</span><span class=\"token operator\">::</span><span class=\"token function\">getSlug</span><span class=\"token punctuation\">,</span> a <span class=\"token operator\">-></span> a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p><code>CommentDatafetcher.java</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"java\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token keyword\">package</span> <span class=\"token namespace\">io<span class=\"token punctuation\">.</span>spring<span class=\"token punctuation\">.</span>graphql</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token annotation punctuation\">@DgsComponent</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">CommentDatafetcher</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n  <span class=\"token annotation punctuation\">@DgsData</span><span class=\"token punctuation\">(</span>parentType <span class=\"token operator\">=</span> ARTICLE<span class=\"token punctuation\">.</span>TYPE_NAME<span class=\"token punctuation\">,</span> field <span class=\"token operator\">=</span> <span class=\"token class-name\">ARTICLE<span class=\"token punctuation\">.</span>Comments</span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">public</span> <span class=\"token class-name\">DataFetcherResult</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CommentsConnection</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">articleComments</span><span class=\"token punctuation\">(</span>\n      <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n      <span class=\"token class-name\">DgsDataFetchingEnvironment</span> dfe<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>first <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span> <span class=\"token operator\">&amp;&amp;</span> last <span class=\"token operator\">==</span> <span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">throw</span> <span class=\"token keyword\">new</span> <span class=\"token class-name\">IllegalArgumentException</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"first å’Œ last å¿…é¡»åªå­˜åœ¨ä¸€ä¸ª\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token class-name\">User</span> current <span class=\"token operator\">=</span> <span class=\"token class-name\">SecurityUtil</span><span class=\"token punctuation\">.</span><span class=\"token function\">getCurrentUser</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">orElse</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">null</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Article</span> article <span class=\"token operator\">=</span> dfe<span class=\"token punctuation\">.</span><span class=\"token function\">getSource</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">Map</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">String</span><span class=\"token punctuation\">,</span> <span class=\"token class-name\">ArticleData</span><span class=\"token punctuation\">></span></span> map <span class=\"token operator\">=</span> dfe<span class=\"token punctuation\">.</span><span class=\"token function\">getLocalContext</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// è·å– map</span>\n    <span class=\"token class-name\">ArticleData</span> articleData <span class=\"token operator\">=</span> map<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span>article<span class=\"token punctuation\">.</span><span class=\"token function\">getSlug</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">// ä½¿ç”¨ slug è·å–å…·ä½“çš„ ArticleData</span>\n\n    <span class=\"token class-name\">CursorPager</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CommentData</span><span class=\"token punctuation\">></span></span> comments<span class=\"token punctuation\">;</span>\n    \n    <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n\n    <span class=\"token class-name\"><span class=\"token namespace\">graphql<span class=\"token punctuation\">.</span>relay<span class=\"token punctuation\">.</span></span>PageInfo</span> pageInfo <span class=\"token operator\">=</span> <span class=\"token function\">buildCommentPageInfo</span><span class=\"token punctuation\">(</span>comments<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token class-name\">CommentsConnection</span> result <span class=\"token operator\">=</span>\n        <span class=\"token class-name\">CommentsConnection</span><span class=\"token punctuation\">.</span><span class=\"token function\">newBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">pageInfo</span><span class=\"token punctuation\">(</span>pageInfo<span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">edges</span><span class=\"token punctuation\">(</span>\n                comments<span class=\"token punctuation\">.</span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span>\n                        a <span class=\"token operator\">-></span>\n                            <span class=\"token class-name\">CommentEdge</span><span class=\"token punctuation\">.</span><span class=\"token function\">newBuilder</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">.</span><span class=\"token function\">cursor</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">.</span><span class=\"token function\">getCursor</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">toString</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">.</span><span class=\"token function\">node</span><span class=\"token punctuation\">(</span><span class=\"token function\">buildCommentResult</span><span class=\"token punctuation\">(</span>a<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                                <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n                    <span class=\"token punctuation\">.</span><span class=\"token function\">collect</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Collectors</span><span class=\"token punctuation\">.</span><span class=\"token function\">toList</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span>\n            <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token keyword\">return</span> <span class=\"token class-name\">DataFetcherResult</span><span class=\"token punctuation\">.</span><span class=\"token generics\"><span class=\"token punctuation\">&lt;</span><span class=\"token class-name\">CommentsConnection</span><span class=\"token punctuation\">></span></span><span class=\"token function\">newResult</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">data</span><span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">)</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">localContext</span><span class=\"token punctuation\">(</span>\n            comments<span class=\"token punctuation\">.</span><span class=\"token function\">getData</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">stream</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span><span class=\"token function\">collect</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">Collectors</span><span class=\"token punctuation\">.</span><span class=\"token function\">toMap</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">CommentData</span><span class=\"token operator\">::</span><span class=\"token function\">getId</span><span class=\"token punctuation\">,</span> c <span class=\"token operator\">-></span> c<span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span> <span class=\"token comment\">// è¿™é‡ŒåŒæ ·ä¼ é€’äº†ä¸€ä¸ª id : comment çš„ map åˆ°ä¸‹ä¸€ä¸ªå±‚çº§</span>\n        <span class=\"token punctuation\">.</span><span class=\"token function\">build</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n\n  <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>è¿™ç§ä¼ é€’ map çš„æ–¹å¼ä¹Ÿç®—æ˜¯å®˜æ–¹æŒ‡å®šçš„æœ€ä½³å®è·µäº†å§ï¼Œå¹¶ä¸”åŸºæœ¬ä¸å¯æˆ–ç¼ºã€‚å› ä¸ºå¾ˆå¤šæ—¶å€™ <code>Source</code> å’Œå®é™…ä» <code>Application</code> å±‚ä¼ é€’çš„ DTO çš„ç±»å‹å°±æ˜¯ä¸ä¸€æ ·çš„ï¼Œå¯èƒ½ç¼ºäº†ä¸å°‘æ•°æ®ã€‚</p>\n<h2 id=\"æ•ˆæœ\" style=\"position:relative;\">æ•ˆæœ<a href=\"#%E6%95%88%E6%9E%9C\" aria-label=\"æ•ˆæœ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>åªè¦ Application å±‚ä¿è¯é‡ç”¨å¹¶ä¸”æ‹æ¸…æ¥šäº† DataFetcher ä¹‹é—´çš„æ•°æ®ä¼ é€’å…³ç³»ï¼Œåé¢åšèµ·æ¥æ„Ÿè§‰å°±ä¸€é©¬å¹³å·äº†ï¼Œæ¯•ç«Ÿè¿™ä¹Ÿä¸æ˜¯ä¸€ä¸ªä»€ä¹ˆå¾ˆå¤§å¾ˆå¤æ‚çš„é¡¹ç›®ã€‚</p>\n<p>å®Œæˆä¹‹åæ„Ÿè§‰è¿™ç§ç½‘çŠ¶å…³ç³»çš„è°ƒç”¨ä½“éªŒè¿˜æ˜¯å¾ˆå¥½çš„ï¼Œæ„Ÿè§‰å¯¹ API çš„è°ƒç”¨æ–¹æ¥è¯´ï¼Œä¸€æ—¦ç†Ÿæ‚‰äº†è¿™ç§æ¨¡å¼å°±å¯ä»¥æ›´å®¹æ˜“çš„ç»„åˆå„ç§æ¯”è¾ƒå¤æ‚çš„è§†å›¾ï¼Œè€Œä¸ä¼šåƒ REST é‚£æ ·æ‹…å¿ƒå¤§é‡çš„æ‰‹å·¥æ•°æ®ç»„åˆã€‚</p>\n<h2 id=\"å¼€å‘è¿‡ç¨‹ä¸­çš„ä¸€äº›å°é—®é¢˜\" style=\"position:relative;\">å¼€å‘è¿‡ç¨‹ä¸­çš„ä¸€äº›å°é—®é¢˜<a href=\"#%E5%BC%80%E5%8F%91%E8%BF%87%E7%A8%8B%E4%B8%AD%E7%9A%84%E4%B8%80%E4%BA%9B%E5%B0%8F%E9%97%AE%E9%A2%98\" aria-label=\"å¼€å‘è¿‡ç¨‹ä¸­çš„ä¸€äº›å°é—®é¢˜ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<ol>\n<li>Intellij å¯¹ GraphQL æœ¬èº«çš„æ”¯æŒè¿˜ä¸å¤Ÿå¥½</li>\n<li>Dgs æ˜¯ä¸ªæ¯”è¾ƒæ–°çš„æ¡†æ¶ï¼ŒåŠ ä¸Šå›½å†…ä¼¼ä¹å¾ˆå°‘æœ‰åšç±»ä¼¼ä¸œè¥¿çš„äººï¼Œèµ„æ–™å¾ˆå°‘</li>\n<li>RealWorld æœ¬èº«å¯¹ GraphQL çš„æ¨è¿›ä¹Ÿå¾ˆæ…¢ï¼Œåç»­æˆ‘åº”è¯¥ä¼šå¢åŠ è‹±æ–‡ç‰ˆæœ¬çš„ ReadME ä»‹ç» GraphQL è¿™éƒ¨åˆ†çš„å·¥ä½œï¼Œå¹¶ä¸”å¸Œæœ›å¯ä»¥æœ‰å‰ç«¯åšæ”¯æŒ</li>\n</ol>","fields":{"slug_without_date":"/graphql-example"}}],"pageInfo":{"hasPreviousPage":true,"currentPage":9,"pageCount":45}}},"pageContext":{"limit":3,"skip":24}},
    "staticQueryHashes": []}