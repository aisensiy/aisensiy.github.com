{"componentChunkName":"component---src-templates-blog-js","path":"/rspec","result":{"data":{"blog":{"id":"a64a5b97-c9d8-5c09-ada9-49016c396d41","html":"<h1 id=\"rspec\" style=\"position:relative;\">rspec<a href=\"#rspec\" aria-label=\"rspec permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h1>\n<h2 id=\"init\" style=\"position:relative;\">init<a href=\"#init\" aria-label=\"init permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">gem install rspec\nrspec --init</code></pre></div>\n<h2 id=\"rspec-1\" style=\"position:relative;\">.rspec<a href=\"#rspec-1\" aria-label=\"rspec 1 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>我们可以用 <code class=\"language-text\">.rspec</code> 文件做 rspec 的配置。</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">--color\n--format documentation</code></pre></div>\n<p>这里的 <code class=\"language-text\">documentation</code> 可以让 rspec 显示出具体的信息，而默认的是\n<code class=\"language-text\">--format progress</code> 只会显示类似 <code class=\"language-text\">testunit</code> 的显示形式。</p>\n<h2 id=\"rspec-with-rails\" style=\"position:relative;\">rspec with rails<a href=\"#rspec-with-rails\" aria-label=\"rspec with rails permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">rails new *application* --skip-test-unit</code></pre></div>\n<p>可以让 rails 不要给予 test-unit 的任何内容。\n然后在 Gemfile 添加</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">group <span class=\"token symbol\">:development</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:test</span> <span class=\"token keyword\">do</span>\n  gem <span class=\"token string\">'rspec-rails'</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<p>然后</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">rails generate rspec:install</code></pre></div>\n<p>之后如果执行<code class=\"language-text\">rails g scaffold</code>那么就会在<code class=\"language-text\">spec</code>目录下建立相应的测试。</p>\n<h2 id=\"rspec-with-guard\" style=\"position:relative;\">rspec with guard<a href=\"#rspec-with-guard\" aria-label=\"rspec with guard permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">group <span class=\"token symbol\">:development</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:test</span> <span class=\"token keyword\">do</span>\n  gem <span class=\"token string\">'rspec-rails'</span>\n  gem <span class=\"token string\">'rb-fsevent'</span><span class=\"token punctuation\">,</span> <span class=\"token symbol\">:require</span> <span class=\"token operator\">=</span><span class=\"token operator\">></span> <span class=\"token boolean\">false</span> <span class=\"token keyword\">if</span> <span class=\"token constant\">RUBY_PLATFORM</span> <span class=\"token operator\">=</span><span class=\"token operator\">~</span> <span class=\"token regex\">/darwin/i</span>\n  gem <span class=\"token string\">'guard-rspec'</span>\n  gem <span class=\"token string\">'guard-livereload'</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<p>安装 guard 的支持非常的简单。然后</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">guard init rspec\nguard init livereload\nguard</code></pre></div>\n<p>详情可见 <a href=\"http://railscasts.com/episodes/264-guard\">railscasts #264 Guard</a></p>\n<h2 id=\"pending\" style=\"position:relative;\">pending<a href=\"#pending\" aria-label=\"pending permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>对于还没有想好测试内容的情况这个就是超级有用了。</p>\n<p>首先可以这样做</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">describe <span class=\"token constant\">Hotel</span> <span class=\"token keyword\">do</span>\n  it <span class=\"token string\">\"should have method price\"</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<p>或者这样</p>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">describe <span class=\"token constant\">Hotel</span> <span class=\"token keyword\">do</span>\n  it <span class=\"token string\">\"should have method price\"</span> <span class=\"token keyword\">do</span>\n    pending\n  <span class=\"token keyword\">end</span>\n<span class=\"token keyword\">end</span></code></pre></div>\n<h2 id=\"一大堆的-matcher\" style=\"position:relative;\">一大堆的 matcher<a href=\"#%E4%B8%80%E5%A4%A7%E5%A0%86%E7%9A%84-matcher\" aria-label=\"一大堆的 matcher permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<div class=\"gatsby-highlight\" data-language=\"ruby\"><pre class=\"language-ruby\"><code class=\"language-ruby\">zombie <span class=\"token operator\">=</span> <span class=\"token constant\">Zombie</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">new</span> <span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">:</span> <span class=\"token string\">'Ash'</span><span class=\"token punctuation\">)</span>\n\nzombie<span class=\"token punctuation\">.</span>name<span class=\"token punctuation\">.</span>should <span class=\"token operator\">==</span> <span class=\"token string\">'Ash'</span>\nzombie<span class=\"token punctuation\">.</span>should respond_to<span class=\"token punctuation\">(</span><span class=\"token symbol\">:name</span><span class=\"token punctuation\">)</span>\nzombie<span class=\"token punctuation\">.</span>weapons<span class=\"token punctuation\">.</span>should <span class=\"token keyword\">include</span><span class=\"token punctuation\">(</span>weapon<span class=\"token punctuation\">)</span>\nzombie<span class=\"token punctuation\">.</span>weapon<span class=\"token punctuation\">.</span>should_not be_nil\n</code></pre></div>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#rspec\">rspec</a></p>\n<ul>\n<li><a href=\"#init\">init</a></li>\n<li><a href=\"#rspec-1\">.rspec</a></li>\n<li><a href=\"#rspec-with-rails\">rspec with rails</a></li>\n<li><a href=\"#rspec-with-guard\">rspec with guard</a></li>\n<li><a href=\"#pending\">pending</a></li>\n<li><a href=\"#%E4%B8%80%E5%A4%A7%E5%A0%86%E7%9A%84-matcher\">一大堆的 matcher</a></li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"rspec get started","date":"October 04, 2013"}}},"pageContext":{"id":"a64a5b97-c9d8-5c09-ada9-49016c396d41"}},"staticQueryHashes":[]}