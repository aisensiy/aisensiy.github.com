{"componentChunkName":"component---src-templates-blog-js","path":"/blog-migrate-from-jekyll-to-gatsby","result":{"data":{"blog":{"id":"ca5034b7-1b2a-53bf-a94c-89290d8fc673","html":"<p>è€ƒè™‘åˆ°è‡ªå·±çš„å‰ç«¯æŠ€èƒ½æœ‰ä¸€é˜µå­æ²¡æœ‰æ›´æ–°äº†ï¼ŒåŒæ—¶çœ‹åˆ°åˆ˜è€å¸ˆç”¨ <a href=\"https://docusaurus.io\">docusaurus</a> æŠŠ openbayes docs åˆ‡æ¢ä¹‹åçš„é¡ºæ»‘ä½“éªŒï¼Œäºæ˜¯å°±æ‰“ç®—äº†è§£å’ŒæŠ˜è…¾äº†ä¸€ä¸‹å’Œ docusaurus æŠ€æœ¯æ ˆç±»ä¼¼ä½†é€‚ç”¨èŒƒå›´å¤§å¤§å¢åŠ çš„ <a href=\"https://www.gatsbyjs.org/\">gatsby</a>ã€‚è¿™é‡Œå…ˆé‚£è‡ªå·±çš„å°åšå®¢å¼€åˆ€ï¼ŒæŠŠåŸæ¥çš„ jekyll æŠ€æœ¯æ ˆåˆ‡æ¢è¿‡æ¥ã€‚</p>\n<p>æœ¬æ¥æ‰“ç®—ä¸€å°æ­¥ä¸€å°æ­¥èµ°è¿‡æ¥ï¼Œå…ˆä¸è¦ç®¡å¤ªå¤šçš„ç»†èŠ‚ï¼Œå¯ç»“æœä¾ç„¶æ˜¯ç»™è‡ªå·±åŠ äº†ç ï¼Œç”šè‡³åŒæ—¶ä½“éªŒäº† tailwindcss çš„éƒ¨åˆ†ã€‚è¿™é‡Œè¿˜æ˜¯ä¼šåˆ†å¼€å‡ ç¯‡åšä»‹ç»å§ã€‚é¦–å…ˆæ˜¯ä»‹ç»æŠŠ jekyll è¿ç§»åˆ° gatsby çš„éƒ¨åˆ†ã€‚</p>\n<p>ä»¥åŠè¿™é‡Œä¸ä¼šä»‹ç»å¦‚ä¸‹å†…å®¹ï¼š</p>\n<ol>\n<li>gatsby çš„å®‰è£…</li>\n<li>graphql çš„çŸ¥è¯†</li>\n</ol>\n<h2 id=\"gatsby-çš„æ€è·¯\" style=\"position:relative;\">Gatsby çš„æ€è·¯<a href=\"#gatsby-%E7%9A%84%E6%80%9D%E8%B7%AF\" aria-label=\"gatsby çš„æ€è·¯ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>è™½ç„¶ gatsby å®˜æ–¹æŠŠ static åˆ’æ‰äº†åŠ ä¸Šäº† dynamicï¼Œä½†ä»æˆ‘ç²—æµ…çš„ä½“éªŒæ¥çœ‹ï¼Œå®ƒä¾ç„¶æ˜¯ä¸€ä¸ª static site generatorã€‚åªæ˜¯åœ¨å…·ä½“ç”Ÿæˆçš„è·¯ç”±ä¸Šç©å‡ºäº†ä¸å°‘çš„èŠ±ï¼Œåç»­ä¹Ÿä¼šåšä»‹ç»ã€‚</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 772px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/e153ee034e6e26509318a47a5247d08b/940c5/2021-07-17-20-10-00.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 38.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAICAIAAAB2/0i6AAAACXBIWXMAAA7DAAAOwwHHb6hkAAABU0lEQVQY06WRXU+CYACF/fmu1l3mR2lt6SL83CTNUqA2Qfw2hFJQVF58RTAFtGU6aNhV1z73z9nZOR7nCDxNDOJhSR2sVWnTykEOn1OIvFS2BEE8YLlatc4wDE1TJEkSJK4rZis/ZfHZl/njyrBv0Shgi3OptaIQmYxI1D0YtpbxNHJ6doLEY+HIVfQ2mkymEDQ2bOvco9nM6J9g68qG+g14E/DmuLOCgjUT1z1qMe6sNHFbxxRd2C+mBoZhXJdjWbbC0LVm5amUFweCK1fTSv5c7OLzSgI0c7BTUJkkKN/JUDQ/yno9DXtdMXTt8wcvUBT1er1+fyAYCBWfi64M3k2ZNQRmwb9qULAaGFQHa8AbjSwEvDHtm5M3S25vtInlOI5t/x9s1F42slMmASoJwJFa6VLiDi2qKeXlZlTwDZgUqGXAqL1yHHu32/9hH2I8x1z1C8gfodvGHSbEAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2021 07 17 20 10 00\"\n        title=\"2021 07 17 20 10 00\"\n        src=\"/static/e153ee034e6e26509318a47a5247d08b/940c5/2021-07-17-20-10-00.png\"\n        srcset=\"/static/e153ee034e6e26509318a47a5247d08b/772e8/2021-07-17-20-10-00.png 200w,\n/static/e153ee034e6e26509318a47a5247d08b/e17e5/2021-07-17-20-10-00.png 400w,\n/static/e153ee034e6e26509318a47a5247d08b/940c5/2021-07-17-20-10-00.png 772w\"\n        sizes=\"(max-width: 772px) 100vw, 772px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>æŠŠ gatsby çš„æ€è·¯æ‹†åˆ†ä¸ºä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š</p>\n<ol>\n<li>gatsby ä½¿ç”¨çš„æ¨¡æ¿å¼•æ“æ˜¯ reactï¼ˆjekyll ç”¨çš„å°±æ˜¯ ruby çš„ erbï¼‰ï¼Œç›¸æ¯”äºå…¶ä»–çš„åç«¯æ¨¡æ¿å¼•æ“ï¼Œä½¿ç”¨ react ç›¸å½“äºå‰ç«¯åŠŸèƒ½å…¨å¼€äº†ï¼Œç¡®å®ç”©å…¶ä»–çš„æ¨¡æ¿å¼•æ“å‡ æ¡è¡—ã€‚</li>\n<li>å½“ç„¶å®ƒè‡ªç„¶ä¹Ÿæœ‰è‡ªå·±çš„ä¸€å¥—é™æ€è·¯ç”±çš„ç”Ÿæˆä½“ç³»ã€‚ä»¥åŠæœ€è¿‘å‡ºç°çš„åŠ¨æ€è·¯ç”±å¯èƒ½å°±æ˜¯ä»–ä»¬è¯´è‡ªå·±çš„ dynamic çš„ç‚¹ï¼Ÿåœ¨æˆ‘çœ‹æ¥ï¼Œè¿™éƒ¨åˆ†ä¼¼ä¹æ²¡æœ‰ç‰¹åˆ«å¤šçš„æ–°æ„ï¼Œæ¯•ç«Ÿè·¯ç”±ä¹Ÿæ˜¯å¾ˆå¤šåç«¯æœåŠ¡å™¨ä¸€å®šä¼šæœ‰çš„ä¸œè¥¿ã€‚å”¯ä¸€æˆ‘çœ‹åˆ°çš„æ–°æ„åœ¨äºé€šè¿‡ä¸€ä¸ª php å¼çš„æ–‡ä»¶ç»“æ„å»å®šä¹‰äº†è·¯ç”±ï¼Œä¼¼ä¹æ˜¯ä¸€ç§æŠŠè·¯ç”±çš„ä½¿ç”¨é—¨æ§›é™ä½çš„å¥½åŠæ³•ï¼Œnext.js ä¹Ÿä½¿ç”¨äº†ç±»ä¼¼çš„æ–¹å¼ã€‚</li>\n<li>æœ€åï¼Œå®ƒæœ‰ä¸€ä¸ª graphql data layerï¼ˆå¥½åƒæœ‰ä¸€äº›æ–‡ç« æˆä¸º data meshï¼‰å®ƒå¯ä»¥é€šè¿‡ä¸€ç³»åˆ—æ’ä»¶å°†å„ç§å„æ ·çš„æ•°æ®æºåšé›†æˆï¼Œå¹¶æš´éœ²å‡º graphql çš„æ¥å£ç»™å¤„äº <code class=\"language-text\">develop mode</code> çš„ gatsby server ï¼Œç”¨æ¥å¡«å……æ¨¡æ¿çš„æ•°æ®ã€‚è¿™éƒ¨åˆ†å†…å®¹ä¸å•å•æ˜¯è¯´æˆ‘å¯ä»¥é›†æˆå¤šä¸ªæ•°æ®æºè¿™ä¹ˆç®€å•ï¼Œå…¶æ•°æ®å±‚ç”šè‡³å¯ä»¥å¯¹æ¯ä¸ªæ•°æ®æºåšå¢å¼ºï¼Œä»¥è¾¾åˆ°éå¸¸å¤šå¤æ‚çš„åŠŸèƒ½ã€‚åœ¨åé¢æœ‰å…³æ’ä»¶çš„éƒ¨åˆ†æˆ‘ä¹Ÿä¼šåšä¸€äº›ä»‹ç»ã€‚</li>\n</ol>\n<p><figure class=\"gatsby-resp-image-figure\" style=\"\">\n    <span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1b825b58bb44d2080bfd119800d2a2d5/5df5d/data-layer.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzElEQVQozz1Sy3LbMAzU//9Ye8s1mSZOmjaRKtsSXyDxZoeyEwwPxM4sd7HEhGJrwh14Dvixt4RSSc+ZQhUU24DniEvESyFSzyhzxDliQUWxCUjer+3P1p6X/LKWSyZAOa35nLCgLKG9/Bv42wUyylb4aU6PnzEAAenUuwNACEGYVdjdeu8i0hr2o5hZmHvvZkbEwtS7m7mqTu4+L+vL6xsxqxpALQC995QzEvXer/uuqgWgAIiIe/fezd3MBtnd1Tw1Liix0nyNsfGe655ranwOOTWeryEA5iapMqC4u7lPd29qKMOwf7WnC/y+1o+9LZE+A97wfmgC6e0+DRujOpAUlNQ4VkqNt9y2jBFoLy0AHTjnNmQLytC9KReo121HpDHMgbaGrSEiIZGo5gKq6l/VDzlVG+T1fHl8eo4xDSvuhEhHVKoqIsOqWq3NzL68D/Y9MJHxKosi63UPsVRzZzVACjEhq7mLWky5NWSx75puz3T3Y7Hw1xJDZRJrrOeEvy+lkpAooM6hva45o4haH+b79J1wRn1ays/TdloLq5PaHPHhPeQmrBaAH97jj9P2d2/m9+yn7zHUxm+P9dKR5e24dxI7Jrwzju5O+Q8cUvLI8mjQAQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"graphql data layer\"\n        title=\"graphql data layer\"\n        src=\"/static/1b825b58bb44d2080bfd119800d2a2d5/5a190/data-layer.png\"\n        srcset=\"/static/1b825b58bb44d2080bfd119800d2a2d5/772e8/data-layer.png 200w,\n/static/1b825b58bb44d2080bfd119800d2a2d5/e17e5/data-layer.png 400w,\n/static/1b825b58bb44d2080bfd119800d2a2d5/5a190/data-layer.png 800w,\n/static/1b825b58bb44d2080bfd119800d2a2d5/c1b63/data-layer.png 1200w,\n/static/1b825b58bb44d2080bfd119800d2a2d5/5df5d/data-layer.png 1572w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span>\n    <figcaption class=\"gatsby-resp-image-figcaption\">graphql data layer</figcaption>\n  </figure></p>\n<h2 id=\"å¿«é€Ÿå¼€å§‹\" style=\"position:relative;\">å¿«é€Ÿå¼€å§‹<a href=\"#%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B\" aria-label=\"å¿«é€Ÿå¼€å§‹ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>æœ‰äº†ä¸Šé¢çš„ä»‹ç»ï¼Œç„¶åæˆ‘ç®€å• google äº†ä¸‹ï¼Œå‘ç°å’Œæˆ‘ä¸€æ ·æŠŠ jekyll åˆ‡åˆ° gatsby çš„äººä¸åœ¨å°‘æ•°ã€‚å®˜æ–¹ç½‘ç«™é‡Œä¹Ÿæœ‰é€‚é… markdown ä½œä¸ºæ•°æ®æºçš„ç›¸å…³èµ„æºã€‚è¿™é‡Œå…ˆç½—åˆ—ä¸‹ä» jekyll åˆ° gatsby è¿ç§»çš„å‡ ä¸ªå¿…é¡»çš„æ­¥éª¤ï¼Œå¹¶åœ¨ä¸‹æ–‡ä¸€ä¸€ä»‹ç»ã€‚</p>\n<ol>\n<li>markdown æ–‡ä»¶çš„æ•´ä½“è¿ç§»</li>\n<li>ç”Ÿæˆè·¯ç”±</li>\n<li>å¤„ç† blog ä¸­çš„ä»£ç é«˜äº®</li>\n<li>ä¼˜åŒ– blog ä¸­çš„ image</li>\n<li>éƒ¨ç½²</li>\n</ol>\n<h2 id=\"markdown-æ–‡ä»¶çš„æ•´ä½“è¿ç§»\" style=\"position:relative;\">markdown æ–‡ä»¶çš„æ•´ä½“è¿ç§»<a href=\"#markdown-%E6%96%87%E4%BB%B6%E7%9A%84%E6%95%B4%E4%BD%93%E8%BF%81%E7%A7%BB\" aria-label=\"markdown æ–‡ä»¶çš„æ•´ä½“è¿ç§» permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>jekyll çš„æ—¶ä»£å‡è®¾å…¶é™æ€é¡µé¢ç”Ÿæˆçš„æ•°æ®æºä¸€å®šæ˜¯æ–‡ä»¶ï¼Œä½†è¿™ç§å‡è®¾åœ¨ 2021 å¹´çœ‹èµ·æ¥æ˜¯è¢«æ‰“ç ´äº†ã€‚ä» gatsby çš„å®˜æ–¹æ•°æ®æºæ’ä»¶æ¥çœ‹ï¼Œå…¶ä¸­å¤§é‡çš„æ•°æ®æºæ˜¯ headless cmsï¼Œæ¯”å¦‚ contentful æ¯”å¦‚ wordpressã€‚è¿™ä¸ªæ€è·¯åœ¨å›½å†…ä¼¼ä¹æ²¡æœ‰è¢«å¾ˆå¥½çš„ä¼ æ’­å¼€æ¥ï¼Œä»¥åŠå¯¹æˆ‘æ¥è¯´ä»ä» jekyll è¿ç§»è¿‡æ¥ä¹Ÿå°±ä¸€å®šæ˜¯æ–‡ä»¶ã€‚</p>\n<p>è¿™é‡Œæˆ‘ç”¨åˆ°äº†ä¸¤ä¸ªæ’ä»¶ï¼š</p>\n<ol>\n<li><code class=\"language-text\">gatsby-source-filesystem</code> å°†ç‰¹å®šç›®å½•ä½œä¸ºæ•°æ®æºæ·»åŠ åˆ° gatsby çš„æ•°æ®å±‚</li>\n<li><code class=\"language-text\">gatsby-transformer-remark</code> ä½¿ç”¨ <a href=\"https://remark.js.org/\">remark</a> å°† <code class=\"language-text\">markdown</code> æ–‡ä»¶è§£æä¸º html å¹¶ä¸”å®ƒæœ‰å¼ºå¤§çš„æ‰©å±•åŠŸèƒ½å®ç° markdown é‡Œé¢ç‰¹å®šçš„è§£æåŠŸèƒ½</li>\n</ol>\n<p>gatsby æ‰€æœ‰çš„æ’ä»¶éƒ½éœ€è¦å•ç‹¬å®‰è£…å¹¶åœ¨ <code class=\"language-text\">gatsby-config.js</code> åšé…ç½®ï¼Œè¿™é‡Œå°±ç½—åˆ—ä¸‹ä¸Šè¿°ä¸¤ä¸ªæ’ä»¶çš„åŸºæœ¬é…ç½®ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">module<span class=\"token punctuation\">.</span>exports <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  siteMetadata<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-transformer-remark</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Plugins configs è¿™é‡Œåç»­åšæ‰©å±•ï¼Œæ”¯æŒè¯­æ³•é«˜äº®ã€å›¾ç‰‡ä¼˜åŒ–</span>\n        plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">{</span>\n      resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-source-filesystem</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">blogs</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n        path<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>__dirname<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/src/blogs/</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p><code class=\"language-text\">gatsby-source-filesystem</code> çš„é…ç½®æˆ‘æŠŠ markdown æ–‡ä»¶å…¨éƒ¨æ”¾åˆ°äº† <code class=\"language-text\">src/blogs</code> ç›®å½•ä¸‹ï¼Œåœ¨ <code class=\"language-text\">yarn run start</code> ä¹‹åï¼Œé€šè¿‡ <code class=\"language-text\">http://localhost:8000/__graphql</code> æ„å»ºå¦‚ä¸‹ graphql è¯­å¥è·å–å¯¹åº”çš„æ–‡ä»¶å†…å®¹ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property-query\">allFile</span><span class=\"token punctuation\">(</span><span class=\"token attr-name\">filter</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token attr-name\">sourceInstanceName</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span><span class=\"token attr-name\">eq</span><span class=\"token punctuation\">:</span> <span class=\"token string\">\"blogs\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token object\">nodes</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">relativePath</span>\n      <span class=\"token property\">extension</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>å¯ä»¥çœ‹åˆ°å¯¹åº”çš„ç»“æœå¦‚ä¸‹æ‰€ç¤ºï¼š</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/903572f815ccd4e832fc819eed8580f7/9b379/2021-07-18-14-20-38.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 62.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAIAAAAmMtkJAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABRklEQVQoz42R247cIBBE/f//mEykWZtLYzf0DewxbGTnJVI2mj2qR44oVU8fz495Xrz3MQa4CSEkAB+8cy6tX7O4sLg4ad33epzHebRzt9deX+dxvup+9lNEMiCRmFX9K6JWW4sAk9i+AFk9Rh/9HL2P0cc4+xjDzFakOSJpFWsm1axa27W2drwW56be+/1yfP6DFKZngkdwPxw+Ez2BY5aNeC2WJYQ4fan9QdW48JpygkwbyUZKqkW0iOlVfvr8P8rKyCliRKYiiqysWi7f7K2sxkhrRPBbAeSIqtVas7Zbbe9lKZIgu0vODNnsNu+8k0UFCQJ6v+Ww8Zw4Fc1yhfS9zFu5agcsMbPHa7N7MBX7xs8bp4DBY/HIy8rrJQvJd2obb7RChpgLZIlZ8j04qb4/VWGaE/wK7qfHRyiPQMvK/p79rv0buuHtxVAbKOgAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2021 07 18 14 20 38\"\n        title=\"2021 07 18 14 20 38\"\n        src=\"/static/903572f815ccd4e832fc819eed8580f7/5a190/2021-07-18-14-20-38.png\"\n        srcset=\"/static/903572f815ccd4e832fc819eed8580f7/772e8/2021-07-18-14-20-38.png 200w,\n/static/903572f815ccd4e832fc819eed8580f7/e17e5/2021-07-18-14-20-38.png 400w,\n/static/903572f815ccd4e832fc819eed8580f7/5a190/2021-07-18-14-20-38.png 800w,\n/static/903572f815ccd4e832fc819eed8580f7/9b379/2021-07-18-14-20-38.png 951w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>ä¸è¿‡ç›´æ¥ä½¿ç”¨è¿™ä¸ªä¼¼ä¹ä¹Ÿåšä¸äº†ä»€ä¹ˆï¼Œåœ¨è·å–äº†è¿™ä¸ªæ•°æ®ä¹‹åæˆ‘ä»¬éœ€è¦è‡ªå·±å†™ä»£ç å»è§£ææ¯ä¸ªæ–‡ä»¶çš„å†…å®¹ã€‚å¹¸å¥½æœ‰ <code class=\"language-text\">gatsby-transformer-remark</code> å®ƒä¼šå¸®åŠ©æˆ‘ä»¬åšè¿™ä¸ªäº‹æƒ…ï¼Œå¹¶æä¾›å¦å¤–ä¸€ä¸ª graphql çš„æ¥å£æ–¹ä¾¿æˆ‘ä»¬ç›´æ¥è·å– markdown çš„å†…å®¹ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"graphql\"><pre class=\"language-graphql\"><code class=\"language-graphql\"><span class=\"token keyword\">query</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token object\">allMarkdownRemark</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token object\">nodes</span> <span class=\"token punctuation\">{</span>\n      <span class=\"token property\">id</span>\n      <span class=\"token property\">html</span>\n      <span class=\"token object\">frontmatter</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token property\">title</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/766fff3e9096e10adfe8fb7d7c67d123/d7abb/2021-07-18-14-26-08.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 58.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAMCAIAAADtbgqsAAAACXBIWXMAAA7DAAAOwwHHb6hkAAABYklEQVQoz4WRi27qMBBE8/+fVhVuAyRAq6rk4UdC7F3b6zgUEioT3UpVSzsarSzLRzsjJ0VRcMZkI2Uzq5VStm0jhOCcq//qvrrmUogmsWjJD304jeM4TdM8ZxERdoCWLHnyve/Dp0MYlFIJ+UGhv4zj9aumaepDOGpTNVpp68j3YQjh1IchHt7fHVFyuYxg++F0vn6TJ0/aHhuN5dG8NlYox5XlylQdKescJefz5XpH1IJOS7MXsGW4ZZjVsKkxZ3pRYM4jPE3TD9ztzjUATyWkFSwLzFl0xnBdweLgSuW8vwPPsbXFV4k7jjsWZ87gXwHLUj8eSIDrf4WpM7CuzbPALTd7gRnTiwOsYhBXdH9sphbi01WFOTM5w7nwstCLQ+xMv3cWGtLK7PiNr3FdY1rhJoY3O3Ef/oy9Zbi5Lc8YrMq481lAVpsX+RfcIGQ17jmkZcwfv6qCtNIPb/bt6Dx9AFzAp7PaF+fLAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"2021 07 18 14 26 08\"\n        title=\"2021 07 18 14 26 08\"\n        src=\"/static/766fff3e9096e10adfe8fb7d7c67d123/5a190/2021-07-18-14-26-08.png\"\n        srcset=\"/static/766fff3e9096e10adfe8fb7d7c67d123/772e8/2021-07-18-14-26-08.png 200w,\n/static/766fff3e9096e10adfe8fb7d7c67d123/e17e5/2021-07-18-14-26-08.png 400w,\n/static/766fff3e9096e10adfe8fb7d7c67d123/5a190/2021-07-18-14-26-08.png 800w,\n/static/766fff3e9096e10adfe8fb7d7c67d123/d7abb/2021-07-18-14-26-08.png 959w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>gatsby æä¾›çš„ graphiql ç•Œé¢å¢åŠ äº† <a href=\"https://github.com/OneGraph/graphiql-explorer\">graphql-explorer</a> ç”¨èµ·æ¥ä¼¼ä¹æ›´æ–¹ä¾¿äº†ä¸€äº›ã€‚çœ‹ç€æ‰€æä¾›çš„ graphql schema å¦‚æœå…·å¤‡åŸºæœ¬çš„ graphql çŸ¥è¯†ï¼Œå°±åº”è¯¥æ˜ç™½å¦‚ä½•ä»è¿™ä¸ªæ•°æ®ä¸­é—´å±‚è·å–æƒ³è¦çš„ markdown æ•°æ®äº†ã€‚</p>\n<h2 id=\"ç”Ÿæˆè·¯ç”±\" style=\"position:relative;\">ç”Ÿæˆè·¯ç”±<a href=\"#%E7%94%9F%E6%88%90%E8%B7%AF%E7%94%B1\" aria-label=\"ç”Ÿæˆè·¯ç”± permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<h3 id=\"å›ºå®šè·¯ç”±\" style=\"position:relative;\">å›ºå®šè·¯ç”±<a href=\"#%E5%9B%BA%E5%AE%9A%E8%B7%AF%E7%94%B1\" aria-label=\"å›ºå®šè·¯ç”± permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>æœ‰äº†æ•°æ®æºä¹‹åï¼Œä¸‹ä¸€æ­¥å°±æ˜¯æ„å»ºåšå®¢çš„åŸºæœ¬çš„è·¯ç”±ç»“æ„äº†ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">/ -- é¦–é¡µï¼Œå±•ç¤ºæœ€æ–°çš„ N ç¯‡åšå®¢\n/about -- å…³äºï¼Œä¸€ä¸ªç‹¬ç«‹çš„é¡µé¢\n/page/{page-number} -- åšåˆ†é¡µï¼Œæ¯é¡µå›ºå®šæ•°é‡çš„åšå®¢ï¼Œå½“ç„¶æä¾›ç¿»é¡µåŠŸèƒ½\n/{slug} -- æ¯ç¯‡åšå®¢çš„è¯­ä¹‰ url ç”¨æ¥å±•ç¤ºæ¯ç¯‡ç‹¬ç«‹çš„åšå®¢\n/archive -- æ‰€æœ‰åšå®¢çš„æ€»è§ˆé¡µé¢ï¼Œç½—åˆ—äº†æ‰€æœ‰çš„åšå®¢æ ‡é¢˜</code></pre></div>\n<p>ä¸Šæ–‡æäº†ï¼Œgatsby ä¸ºäº†ç®€åŒ–è·¯ç”±ï¼Œä¸º <code class=\"language-text\">/src/pages</code> æ¯ä¸ªæ–‡ä»¶å’Œå¸¦æ–‡ä»¶å¤¹çš„å±‚çº§çš„æ–‡ä»¶éƒ½æä¾›å¯¹åº”çš„ç›®å½•ã€‚æ¯”å¦‚ <code class=\"language-text\">src/pages/about.js</code> çš„å†…å®¹å°±å¯¹åº”äº† <code class=\"language-text\">/about</code> è·¯ç”±ã€‚ä¹Ÿå°±æ˜¯è¯´å¯¹äºå›ºå®šè·¯ç”±æ¥è¯´ï¼Œç›´æ¥ç»™ä¸ªå¯¹åº”æ–‡ä»¶å¹¶ä¸”æŒ‰ç…§ gatsby çš„è§„çº¦ï¼Œç”¨ graphql è·å–æ•°æ®åšæ¸²æŸ“å°±å¥½äº†ã€‚è¿™é‡Œæˆ‘å±•ç¤ºä¸‹ <code class=\"language-text\">/archive</code> çš„ä»£ç åšä¸ªè¯´æ˜ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">Archive</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> groupByYearResult <span class=\"token operator\">=</span> <span class=\"token function\">groupByYear</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>nodes<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Base<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>h1 className<span class=\"token operator\">=</span><span class=\"token string\">\"text-4xl font-extrabold tracking-tight my-4 text-gray-800\"</span><span class=\"token operator\">></span>Archive<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h1<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">{</span>groupByYearResult<span class=\"token punctuation\">.</span><span class=\"token function\">map</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> key<span class=\"token punctuation\">,</span> value <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n          <span class=\"token operator\">&lt;</span>div key<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>h2 className<span class=\"token operator\">=</span><span class=\"token string\">\"text-3xl font-bold tracking-tight my-4 text-gray-800\"</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>key<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>h2<span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>YearItems blogs<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>value<span class=\"token punctuation\">}</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n        <span class=\"token punctuation\">)</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">}</span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Base<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">YearItems</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> blogs <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>çœç•¥äº†<span class=\"token operator\">...</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> query <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query QueryBlogTitles {\n    allMarkdownRemark(sort: { fields: frontmatter___date, order: DESC }) {\n      nodes {\n        id\n        frontmatter {\n          title\n          date(formatString: \"MMMM-DD\")\n          year: date(formatString: \"YYYY\")\n        }\n        fields {\n          slug_without_date\n        }\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">function</span> <span class=\"token function\">groupByYear</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">blogs</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// çœç•¥äº†...</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>æ–‡ä»¶ä¼šåˆ†ä¸¤ä¸ªéƒ¨åˆ†ä¸€éƒ¨åˆ†æ˜¯ react çš„æ¸²æŸ“ï¼Œä¸€éƒ¨åˆ†æ˜¯ graphql æ•°æ®çš„è·å–ï¼Œéå¸¸ç®€å•æ˜äº†ã€‚è¿™é‡Œå°±ä¸å†èµ˜è¿°äº†ã€‚</p>\n<h3 id=\"ä»æ–‡ä»¶ç”Ÿæˆ-slug-å¹¶ä½¿ç”¨-react-æ¨¡æ¿ç”Ÿæˆ-blog-é¡µé¢\" style=\"position:relative;\">ä»æ–‡ä»¶ç”Ÿæˆ slug å¹¶ä½¿ç”¨ react æ¨¡æ¿ç”Ÿæˆ blog é¡µé¢<a href=\"#%E4%BB%8E%E6%96%87%E4%BB%B6%E7%94%9F%E6%88%90-slug-%E5%B9%B6%E4%BD%BF%E7%94%A8-react-%E6%A8%A1%E6%9D%BF%E7%94%9F%E6%88%90-blog-%E9%A1%B5%E9%9D%A2\" aria-label=\"ä»æ–‡ä»¶ç”Ÿæˆ slug å¹¶ä½¿ç”¨ react æ¨¡æ¿ç”Ÿæˆ blog é¡µé¢ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h3>\n<p>ç›¸å¯¹äºå›ºå®šè·¯ç”±ï¼ŒåŠ¨æ€è·¯ç”±ä¸æ˜¯æŒ‡ <a href=\"/blog-migrate-from-jekyll-to-gatsby\">/blog-migrate-from-jekyll-to-gatsby</a> å°±æ˜¯åœ¨ç”¨æˆ·è¯·æ±‚çš„æ—¶å€™ç”¨ server ç«¯ä¸´æ—¶æ‹¼è£…é¡µé¢ï¼Œè€Œæ˜¯è¯´æˆ‘å¯ä»¥åœ¨ gatsby éƒ¨ç½²çš„æ—¶å€™åŠ¨æ€çš„ç”Ÿæˆä¸€ç³»åˆ—çš„é™æ€é¡µé¢ã€‚è¿™ä¹Ÿæ˜¯æˆ‘è§‰å¾— gatsby å¹¶ä¸æ˜¯ dynamic çš„é‡è¦åŸå› ã€‚</p>\n<p>ä¸Šæ–‡æåˆ°äº†ï¼Œæ—¢ç„¶æˆ‘å¯ä»¥ä» graphql é‡Œé¢ç½—åˆ—ä¸€ç³»åˆ—çš„ markdown å†…å®¹äº†ï¼Œé‚£æˆ‘è‡ªç„¶å¯ä»¥é€šè¿‡éå†çš„æ–¹å¼å»ç”Ÿæˆä¸€ä¸ªä¸ªé¡µé¢å¹¶å¯¹åº”ä¸Šç›¸åº”çš„è·¯ç”±ã€‚å…·ä½“åœ¨ gatsby åšçš„æ—¶å€™éœ€è¦è¿™ä¹ˆåšï¼š</p>\n<h4 id=\"1-å‡†å¤‡å•ä¸ª-blog-çš„æ¨¡æ¿é¡µé¢\" style=\"position:relative;\">1. å‡†å¤‡å•ä¸ª blog çš„æ¨¡æ¿é¡µé¢<a href=\"#1-%E5%87%86%E5%A4%87%E5%8D%95%E4%B8%AA-blog-%E7%9A%84%E6%A8%A1%E6%9D%BF%E9%A1%B5%E9%9D%A2\" aria-label=\"1 å‡†å¤‡å•ä¸ª blog çš„æ¨¡æ¿é¡µé¢ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token keyword\">function</span> <span class=\"token function\">BlogTemplate</span><span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> data <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>Base<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Blog data<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span>data<span class=\"token punctuation\">.</span>blog<span class=\"token punctuation\">}</span><span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Base<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">const</span> pageQuery <span class=\"token operator\">=</span> graphql<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n  query BlogPostQuery($id: String) {\n    blog: markdownRemark(id: { eq: $id }) {\n      id\n      html\n      tableOfContents\n      frontmatter {\n        title\n        date(formatString: \"MMMM DD, YYYY\")\n      }\n    }\n  }\n</span><span class=\"token template-punctuation string\">`</span></span></code></pre></div>\n<p>è¿™æ˜¯ <code class=\"language-text\">src/templates/blog.js</code> æ–‡ä»¶çš„å†…å®¹ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œè¿™é‡Œåœ¨ <code class=\"language-text\">pageQuery</code>  é‡Œå¼•å…¥äº†å‚æ•° <code class=\"language-text\">$id</code> é©¬ä¸Šæˆ‘ä»¬å°±ä»‹ç»æ€ä¹ˆç”¨è¿™ä¸ªä¸œè¥¿ã€‚</p>\n<h4 id=\"2-åœ¨-gatsby-nodejs-ä¸­åˆ›å»ºé¡µé¢\" style=\"position:relative;\">2. åœ¨ gatsby-node.js ä¸­åˆ›å»ºé¡µé¢<a href=\"#2-%E5%9C%A8-gatsby-nodejs-%E4%B8%AD%E5%88%9B%E5%BB%BA%E9%A1%B5%E9%9D%A2\" aria-label=\"2 åœ¨ gatsby nodejs ä¸­åˆ›å»ºé¡µé¢ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h4>\n<p>gatsby åœ¨ build çš„æ—¶å€™ä¼šæ‰§è¡Œ gatsby-node.js æ–‡ä»¶ï¼Œåœ¨è¿™é‡Œå¯ä»¥è°ƒç”¨ gatsby çš„å†…éƒ¨ api åšä¸€ç³»åˆ—å°åŠ¨ä½œï¼Œä»¥å®ç°åŠ¨æ€åˆ›å»ºé¡µé¢çš„ç›®çš„ã€‚</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createFilePath <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"gatsby-source-filesystem\"</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\">// 1. ä¸º markdown å¢åŠ é¢å¤–çš„å­—æ®µ slug å’Œ slug_without_date</span>\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">onCreateNode</span> <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> node<span class=\"token punctuation\">,</span> actions<span class=\"token punctuation\">,</span> getNode <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createNodeField <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>node<span class=\"token punctuation\">.</span>internal<span class=\"token punctuation\">.</span>type <span class=\"token operator\">===</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">MarkdownRemark</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">const</span> filename <span class=\"token operator\">=</span> <span class=\"token function\">createFilePath</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> node<span class=\"token punctuation\">,</span> getNode <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token comment\">// get the date and title from the file name</span>\n    <span class=\"token keyword\">const</span> <span class=\"token punctuation\">[</span><span class=\"token punctuation\">,</span> date<span class=\"token punctuation\">,</span> title<span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> filename<span class=\"token punctuation\">.</span><span class=\"token function\">match</span><span class=\"token punctuation\">(</span>\n      <span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">^\\/([\\d]{4}-[\\d]{2}-[\\d]{2})-{1}(.+)\\/$</span><span class=\"token regex-delimiter\">/</span></span>\n    <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n    <span class=\"token comment\">// create a new slug concatenating everything</span>\n    <span class=\"token function\">createNodeField</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> node<span class=\"token punctuation\">,</span> name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">slug</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>date<span class=\"token punctuation\">.</span><span class=\"token function\">replace</span><span class=\"token punctuation\">(</span><span class=\"token regex\"><span class=\"token regex-delimiter\">/</span><span class=\"token regex-source language-regex\">\\-</span><span class=\"token regex-delimiter\">/</span><span class=\"token regex-flags\">g</span></span><span class=\"token punctuation\">,</span> <span class=\"token string\">\"/\"</span><span class=\"token punctuation\">)</span><span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>title<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token string\">/</span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n    <span class=\"token function\">createNodeField</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> node<span class=\"token punctuation\">,</span> name<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">slug_without_date</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span> value<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">/</span><span class=\"token interpolation\"><span class=\"token interpolation-punctuation punctuation\">${</span>title<span class=\"token interpolation-punctuation punctuation\">}</span></span><span class=\"token template-punctuation string\">`</span></span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token comment\">// 2. è·å–æ‰€æœ‰çš„ markdown æ•°æ®</span>\n<span class=\"token keyword\">const</span> path <span class=\"token operator\">=</span> <span class=\"token function\">require</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"path\"</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\nexports<span class=\"token punctuation\">.</span><span class=\"token function-variable function\">createPages</span> <span class=\"token operator\">=</span> <span class=\"token keyword\">async</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\"><span class=\"token punctuation\">{</span> graphql<span class=\"token punctuation\">,</span> actions<span class=\"token punctuation\">,</span> reporter <span class=\"token punctuation\">}</span></span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token comment\">// Destructure the createPage function from the actions object</span>\n  <span class=\"token keyword\">const</span> <span class=\"token punctuation\">{</span> createPage <span class=\"token punctuation\">}</span> <span class=\"token operator\">=</span> actions\n  <span class=\"token keyword\">const</span> result <span class=\"token operator\">=</span> <span class=\"token keyword\">await</span> <span class=\"token function\">graphql</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n    {\n      allMarkdownRemark {\n        nodes {\n          id\n          fields {\n            slug\n            slug_without_date\n          }\n        }\n        pageInfo {\n          totalCount\n        }\n      }\n    }\n  </span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span>\n  <span class=\"token keyword\">if</span> <span class=\"token punctuation\">(</span>result<span class=\"token punctuation\">.</span>errors<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n    reporter<span class=\"token punctuation\">.</span><span class=\"token function\">panicOnBuild</span><span class=\"token punctuation\">(</span><span class=\"token string\">'ğŸš¨  ERROR: Loading \"createPages\" query'</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n  \n  <span class=\"token keyword\">const</span> posts <span class=\"token operator\">=</span> result<span class=\"token punctuation\">.</span>data<span class=\"token punctuation\">.</span>allMarkdownRemark<span class=\"token punctuation\">.</span>nodes<span class=\"token punctuation\">;</span>\n  <span class=\"token comment\">// 3. è°ƒç”¨ api createPage åˆ›å»º</span>\n  posts<span class=\"token punctuation\">.</span><span class=\"token function\">forEach</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">node<span class=\"token punctuation\">,</span> index</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      path<span class=\"token operator\">:</span> node<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>slug<span class=\"token punctuation\">,</span> <span class=\"token comment\">// è¿™é‡Œæ˜¯è·¯ç”±</span>\n      component<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">./src/templates/blog.js</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// è¿™é‡Œæ˜¯æ¨¡æ¿çš„ä½ç½®</span>\n      context<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> node<span class=\"token punctuation\">.</span>id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> <span class=\"token comment\">// è¿™é‡Œæ˜¯ä¼ é€’ç»™æ¨¡æ¿çš„å‚æ•°</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token function\">createPage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n      path<span class=\"token operator\">:</span> node<span class=\"token punctuation\">.</span>fields<span class=\"token punctuation\">.</span>slug_without_date<span class=\"token punctuation\">,</span> <span class=\"token comment\">// ç”Ÿæˆå¦å¤–ä¸€ä¸ªè·¯ç”±</span>\n      component<span class=\"token operator\">:</span> path<span class=\"token punctuation\">.</span><span class=\"token function\">resolve</span><span class=\"token punctuation\">(</span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">./src/templates/blog.js</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n      context<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> id<span class=\"token operator\">:</span> node<span class=\"token punctuation\">.</span>id <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>é¦–å…ˆï¼Œè¿™é‡Œé€šè¿‡ <code class=\"language-text\">onCreateNode</code> çš„ hook é€šè¿‡æ–‡ä»¶åè§£æå‡ºæ¥äº† slug æ¯”å¦‚æ–‡ä»¶åæ˜¯ <code class=\"language-text\">2021-07-17-blog-migrate-from-jekylly-to-gatsby.md</code> é‚£ä¹ˆå°±ä¼šè§£æå‡ºä¸¤ä¸ª slugï¼š</p>\n<ul>\n<li>/2021/07/17/blog-migrate-from-jekylly-to-gatsby</li>\n<li>/blog-migrate-from-jekylly-to-gatsby</li>\n</ul>\n<p>ç„¶åé€šè¿‡ <code class=\"language-text\">createNodeField</code> æŠŠ slug å°±å†æ¬¡å¡å›äº† <code class=\"language-text\">MarkdownRemark</code> ç±»å‹çš„ <code class=\"language-text\">fields</code> å±æ€§é‡Œã€‚åé¢å°±å¯ä»¥é€šè¿‡ <code class=\"language-text\">fields.slug</code> ä½¿ç”¨äº†ã€‚</p>\n<p>ä¹‹æ‰€æœ‰æœ‰ /2021/07/17/xxx è¿™æ ·å­çš„è·¯ç”±æ˜¯å› ä¸ºä¹‹å‰ jekyll å°±æ˜¯è¿™æ ·å­çš„è·¯ç”±ï¼Œç®—æ˜¯åšä¸€ä¸ªå…¼å®¹å§ã€‚</p>\n<p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œblog çš„ä¸»è¦åŠŸèƒ½ç®—æ˜¯å»ºç«‹å¥½äº†ã€‚</p>\n<h2 id=\"å¤„ç†-blog-ä¸­çš„ä»£ç é«˜äº®\" style=\"position:relative;\">å¤„ç† blog ä¸­çš„ä»£ç é«˜äº®<a href=\"#%E5%A4%84%E7%90%86-blog-%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE\" aria-label=\"å¤„ç† blog ä¸­çš„ä»£ç é«˜äº® permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>remark è¿™ä¸ªæ’ä»¶è‡ªå·±è¿˜æœ‰é¢å¤–çš„æ’ä»¶ï¼Œé€šè¿‡å¢åŠ é¢å¤–çš„ <a href=\"https://www.gatsbyjs.com/plugins/gatsby-remark-prismjs/\">prismjs</a> çš„æ”¯æŒå°±å¯ä»¥å®ç°ä»£ç çš„é«˜äº®äº†ã€‚</p>\n<p>ç®€å•ç½—åˆ—ä¸‹é…ç½®ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token punctuation\">{</span>\n      resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-transformer-remark</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n      options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token comment\">// Plugins configs</span>\n        plugins<span class=\"token operator\">:</span> <span class=\"token punctuation\">[</span>\n          <span class=\"token punctuation\">{</span>\n            resolve<span class=\"token operator\">:</span> <span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">gatsby-remark-prismjs</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token punctuation\">,</span>\n            options<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n              aliases<span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token comment\">// è¿™é‡Œä»…ä»…æ˜¯å¤šäº†ä¸¤ä¸ªè¯­è¨€çš„ alias</span>\n                sh<span class=\"token operator\">:</span> <span class=\"token string\">\"bash\"</span><span class=\"token punctuation\">,</span>\n                gql<span class=\"token operator\">:</span> <span class=\"token string\">\"graphql\"</span>\n              <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n            <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n          <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n        <span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n      <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span></code></pre></div>\n<p>ç„¶åè®°å¾—æŒ‰ç…§æ–‡æ¡£æŠŠ css æ–‡ä»¶æ·»åŠ è¿›æ¥ã€‚</p>\n<h2 id=\"ä¼˜åŒ–-blog-ä¸­çš„-image\" style=\"position:relative;\">ä¼˜åŒ– blog ä¸­çš„ image<a href=\"#%E4%BC%98%E5%8C%96-blog-%E4%B8%AD%E7%9A%84-image\" aria-label=\"ä¼˜åŒ– blog ä¸­çš„ image permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>è¿™éƒ¨åˆ†ç®—æ˜¯ gatsby ç›¸å¯¹äº jekyll çš„å¦ä¸€ä¸ªäº®ç‚¹å§ï¼Œé€šè¿‡å¯¹ img çš„ srcset çš„æ”¯æŒï¼Œå¯ä»¥å®ç°åœ¨ä¸åŒå®½åº¦çš„é¡µé¢ä¸Šå»åŠ è½½ä¸åŒå®½åº¦çš„å›¾ç‰‡ã€‚å¹¶ä¸”ï¼Œè¿™äº›ä¸åŒå®½åº¦çš„å›¾ç‰‡å…¨éƒ¨ç”±æ’ä»¶è‡ªåŠ¨ç”Ÿæˆï¼ŒåŸºæœ¬ä¸Šæ˜¯å¼€ç®±å³ç”¨äº†ã€‚æ›´å¤šçš„ä¿¡æ¯å» <a href=\"https://www.gatsbyjs.com/plugins/gatsby-remark-images/?=image#gatsby-remark-images\">gatsby remark images</a> ä¸€çœ‹å°±æ™“å¾—äº†ã€‚</p>\n<h2 id=\"åœ¨-github-pages-éƒ¨ç½²\" style=\"position:relative;\">åœ¨ github pages éƒ¨ç½²<a href=\"#%E5%9C%A8-github-pages-%E9%83%A8%E7%BD%B2\" aria-label=\"åœ¨ github pages éƒ¨ç½² permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>è¿™éƒ¨åˆ† gatsby å·²ç»ç»™å‡†å¤‡å¥½äº†ï¼Œè·Ÿç€ <a href=\"https://www.gatsbyjs.com/docs/how-to/previews-deploys-hosting/how-gatsby-works-with-github-pages/\">How Gatsby Works with GitHub Pages</a> åŸºæœ¬å°±èƒ½è§£å†³ã€‚å”¯ä¸€çš„ä¸åŒåœ¨äºæˆ‘é€šè¿‡ä¸€ä¸ª github action å®ç°äº†è‡ªåŠ¨éƒ¨ç½²ï¼ˆè€Œä¸æ˜¯æ¯æ¬¡éƒ½è‡ªå·± yarn run deployï¼‰ï¼š</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> build<span class=\"token punctuation\">-</span>and<span class=\"token punctuation\">-</span>deploy\n\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token string\">'**'</span>\n\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Git Repo Sync\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/setup<span class=\"token punctuation\">-</span>node@v2\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">node-version</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'14'</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> install deps\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> yarn install <span class=\"token punctuation\">-</span><span class=\"token punctuation\">-</span>frozen<span class=\"token punctuation\">-</span>lockfile\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> build\n      <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> yarn run build\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> deploy\n      <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> peaceiris/actions<span class=\"token punctuation\">-</span>gh<span class=\"token punctuation\">-</span>pages@v3\n      <span class=\"token key atrule\">with</span><span class=\"token punctuation\">:</span>\n        <span class=\"token key atrule\">github_token</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span> secrets.GITHUB_TOKEN <span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n        <span class=\"token key atrule\">publish_branch</span><span class=\"token punctuation\">:</span> main\n        <span class=\"token key atrule\">publish_dir</span><span class=\"token punctuation\">:</span> ./public</code></pre></div>\n<p>è¿™é‡Œæˆ‘çš„ä¸»åˆ†æ”¯æ˜¯ master ç„¶åé‡‡ç”¨ main ä½œä¸ºäº†å‘å¸ƒåˆ†æ”¯ï¼Œç›´æ¥ä½¿ç”¨ action  <code class=\"language-text\">actions-gh-pages</code> æŠŠ public ç›®å½•æäº¤åˆ° main å°±å¯ä»¥äº†ã€‚</p>\n<h2 id=\"å°ç»“\" style=\"position:relative;\">å°ç»“<a href=\"#%E5%B0%8F%E7%BB%93\" aria-label=\"å°ç»“ permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>gatsby å¹¶ä¸åƒ jekyll é‚£ä¹ˆå¼€ç®±å³ç”¨ï¼Œä½†å…¶åŠŸèƒ½ç›¸å¯¹æ¥è¯´ç¡®å®å¼ºå¤§ä¸å°‘ã€‚çµæ´»æ€§å’Œæ‰©å±•æ€§ç¡®å®ä¸æ˜¯ä¸€ä¸ªæ•°é‡çº§äº†ã€‚å½“ç„¶ï¼Œè¿™å‰ææ˜¯ä½ å¯¹å‰ç«¯çš„æŠ€æœ¯æ ˆè¶³å¤Ÿäº†è§£ï¼Œä¸ç„¶å¯èƒ½å°±åªèƒ½åœ¨ <a href=\"https://www.gatsbyjs.com/docs/starters/\">gatsby starters</a> æ‰¾æ‰¾æœ‰æ²¡æœ‰åˆé€‚çš„ä¸œè¥¿äº†ã€‚</p>\n<p>åé¢è¿˜æœ‰ä¸€äº›å·¥ä½œè¦åšçš„ï¼š</p>\n<ol>\n<li>æ ·å¼...ç°åœ¨æ˜¯ plain html é»˜è®¤æ ·å¼ï¼Œåªæœ‰ä»£ç å—æ˜¯èŠ±èŠ±ç»¿ç»¿çš„</li>\n<li>ä¼˜åŒ–ï¼Œæ ‡é¢˜ï¼Œmeta åº”è¯¥è¿˜æ˜¯éœ€è¦èŠ±ç‚¹ç‚¹æ—¶é—´çš„</li>\n<li>é¦–é¡µï¼Œåœ¨è·¯ç”±çš„éƒ¨åˆ†æåŠäº†ï¼Œè¿™éƒ¨åˆ†åœ¨ jekyll çš„æ—¶å€™æ˜¯ä¸ªåˆ†é¡µï¼Œç°åœ¨æƒ³è¦åšç±»ä¼¼çš„å®ç°ï¼Œåº”è¯¥ä¸éš¾</li>\n<li>tags çš„å±•ç¤ºå’ŒæŒ‰ç…§ tags ç½—åˆ—æ–‡ç« ï¼Œè¿™ä¹Ÿæ˜¯ä¹‹å‰ jekyll çš„åŠŸèƒ½ï¼Œä¹Ÿå¸Œæœ›åšæˆç±»ä¼¼çš„æ ·å­</li>\n</ol>\n<h2 id=\"ç›¸å…³èµ„æº\" style=\"position:relative;\">ç›¸å…³èµ„æº<a href=\"#%E7%9B%B8%E5%85%B3%E8%B5%84%E6%BA%90\" aria-label=\"ç›¸å…³èµ„æº permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>æŠŠå‡ ä¸ªç”¨åˆ°ä½†æ˜¯æ²¡æœ‰æåŠçš„é“¾æ¥æ”¾åˆ°äº†è¿™é‡Œã€‚</p>\n<ul>\n<li><a href=\"https://deborah-digges.github.io/2020/09/16/Jekyll-to-Gatsby/\">From Jekyll to Gatsby: 7 Simple Steps</a></li>\n<li><a href=\"https://www.gatsbyjs.com/docs/how-to/routing/adding-markdown-pages/\">Adding Markdown Pages</a></li>\n<li><a href=\"https://www.gatsbyjs.com/docs/reference/routing/creating-routes/#using-gatsby-nodejs\">Create routing</a></li>\n</ul>","tableOfContents":"<ul>\n<li>\n<p><a href=\"#gatsby-%E7%9A%84%E6%80%9D%E8%B7%AF\">Gatsby çš„æ€è·¯</a></p>\n</li>\n<li>\n<p><a href=\"#%E5%BF%AB%E9%80%9F%E5%BC%80%E5%A7%8B\">å¿«é€Ÿå¼€å§‹</a></p>\n</li>\n<li>\n<p><a href=\"#markdown-%E6%96%87%E4%BB%B6%E7%9A%84%E6%95%B4%E4%BD%93%E8%BF%81%E7%A7%BB\">markdown æ–‡ä»¶çš„æ•´ä½“è¿ç§»</a></p>\n</li>\n<li>\n<p><a href=\"#%E7%94%9F%E6%88%90%E8%B7%AF%E7%94%B1\">ç”Ÿæˆè·¯ç”±</a></p>\n<ul>\n<li>\n<p><a href=\"#%E5%9B%BA%E5%AE%9A%E8%B7%AF%E7%94%B1\">å›ºå®šè·¯ç”±</a></p>\n</li>\n<li>\n<p><a href=\"#%E4%BB%8E%E6%96%87%E4%BB%B6%E7%94%9F%E6%88%90-slug-%E5%B9%B6%E4%BD%BF%E7%94%A8-react-%E6%A8%A1%E6%9D%BF%E7%94%9F%E6%88%90-blog-%E9%A1%B5%E9%9D%A2\">ä»æ–‡ä»¶ç”Ÿæˆ slug å¹¶ä½¿ç”¨ react æ¨¡æ¿ç”Ÿæˆ blog é¡µé¢</a></p>\n<ul>\n<li><a href=\"#1-%E5%87%86%E5%A4%87%E5%8D%95%E4%B8%AA-blog-%E7%9A%84%E6%A8%A1%E6%9D%BF%E9%A1%B5%E9%9D%A2\">1. å‡†å¤‡å•ä¸ª blog çš„æ¨¡æ¿é¡µé¢</a></li>\n<li><a href=\"#2-%E5%9C%A8-gatsby-nodejs-%E4%B8%AD%E5%88%9B%E5%BB%BA%E9%A1%B5%E9%9D%A2\">2. åœ¨ gatsby-node.js ä¸­åˆ›å»ºé¡µé¢</a></li>\n</ul>\n</li>\n</ul>\n</li>\n<li>\n<p><a href=\"#%E5%A4%84%E7%90%86-blog-%E4%B8%AD%E7%9A%84%E4%BB%A3%E7%A0%81%E9%AB%98%E4%BA%AE\">å¤„ç† blog ä¸­çš„ä»£ç é«˜äº®</a></p>\n</li>\n<li>\n<p><a href=\"#%E4%BC%98%E5%8C%96-blog-%E4%B8%AD%E7%9A%84-image\">ä¼˜åŒ– blog ä¸­çš„ image</a></p>\n</li>\n<li>\n<p><a href=\"#%E5%9C%A8-github-pages-%E9%83%A8%E7%BD%B2\">åœ¨ github pages éƒ¨ç½²</a></p>\n</li>\n<li>\n<p><a href=\"#%E5%B0%8F%E7%BB%93\">å°ç»“</a></p>\n</li>\n<li>\n<p><a href=\"#%E7%9B%B8%E5%85%B3%E8%B5%84%E6%BA%90\">ç›¸å…³èµ„æº</a></p>\n</li>\n</ul>","frontmatter":{"title":"æŠŠåšå®¢ä» jekyll è¿ç§»åˆ° gatsby","date":"July 17, 2021"}}},"pageContext":{"id":"ca5034b7-1b2a-53bf-a94c-89290d8fc673"}},"staticQueryHashes":[]}