{"componentChunkName":"component---src-pages-index-js","path":"/","result":{"data":{"site":{"siteMetadata":{"title":"eisen-s-blog"}},"blogs":{"nodes":[{"id":"fcc06d0e-1111-5836-a906-c4113d02cfc7","frontmatter":{"title":"解决 TrueNAS Scale HDD 硬盘莫名读写的问题","date":"2022 December-15"},"html":"<p>最近攒了一台机器作为家里的 NAS，操作系统选择了 <a href=\"https://www.truenas.com/truenas-scale/\">TrueNAS Scale</a> ，之所以用这个系统原因有两个：</p>\n<ol>\n<li>它是基于 Debian 的，对我来说比较熟悉，FreeBSD 什么的实在是有点陌生，并且据说那边的驱动跟进也不是很好（当然是据说，我没实操过）</li>\n<li>TrueNAS Scale 里面的 App Store 是基于 <a href=\"https://helm.sh/docs/topics/charts/\">helm charts</a> 的，TrueNAS Scale 在开启 Apps 这个功能后会跑了一个 <a href=\"https://k3s.io/\">k3s</a> 来管理这些 apps 这个操作着实有点激进，不过我还是愿意尝试一下的，也是因为我对这些东西比较熟悉</li>\n</ol>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a578be5b7e6dc1225428bcdb2b1ea2ab/70d4c/screenshot-of-truenas-scale-applications.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 49%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAYAAAC0VX7mAAAACXBIWXMAAAsTAAALEwEAmpwYAAACWUlEQVQozyWR227bRgBE9RORqUK2xeuSFMnd5fIiUqZk2XJkyY6rSg4c59YUQYoGTfvQAEWBAn0r+tmnrfw2GAwOBjM9P8k4dX2CIGA4HGJZFoNnFoO+hTWweNbv0z86Ovj9vsXR0ZNvDb455INAIMcxIq8YzV/QM7km8H1kmqGUxvMCRrmHI32ckUMSCYTvcXo6IowcXNfGHtk4x0Ncx0aIkMQUeGHMcSzpKZ3jnAzJV/d0jz9hgpDBhw0nHzdoP+T6/WfmN1sSIZDvduSLDplkWHmHKisyUyG//EPZnhH7Lj2ZGzzXQUiDajrSZIwqZuT1DDke419dksw6UhEw//Vv2vUWlSbo8y3KVChTsP/yF9VkihCCXpqmuK5D3syZLW/QKiOeLkmni8M20cVzZDcjiyPGt4+YboFWkpNmgyxrdF6yuf+Tom4RIqAXhiGO61CYM866FTJLsCfPCSYXqCTGnSxJJ92h1XG1ZFw0aJlys5Q0lcbkOZ/v31CXxeGgXhRF2I7HZR6ymBlkKom6CjVvyKWm7hR1a8hSyflS005LtNZ8v0o4qySqKLj77Q/KpiEUB2CI7Xp0JuDFuSKVhjePSx5eXuH7ER/eX7PfrajKitvXr+kWl4eGb3/+yqQ7R8sx64sxbVsTRfETcGR7XDQh++uCOFU87m55ud0QxgnbTcl6NaUyE6Y/TqmuKlSSsX3YUU8atM64fLijrIqnU+Io4vjU5dU65pe3NUEs+WG34d1+g/hf30u+XZekccH17zbtXYpKcu6+M7RtgSkN+6+fmLQ14r8N/wVzU0KRIuQ+CQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"screenshot of truenas scale applications\"\n        title=\"screenshot of truenas scale applications\"\n        src=\"/static/a578be5b7e6dc1225428bcdb2b1ea2ab/5a190/screenshot-of-truenas-scale-applications.png\"\n        srcset=\"/static/a578be5b7e6dc1225428bcdb2b1ea2ab/772e8/screenshot-of-truenas-scale-applications.png 200w,\n/static/a578be5b7e6dc1225428bcdb2b1ea2ab/e17e5/screenshot-of-truenas-scale-applications.png 400w,\n/static/a578be5b7e6dc1225428bcdb2b1ea2ab/5a190/screenshot-of-truenas-scale-applications.png 800w,\n/static/a578be5b7e6dc1225428bcdb2b1ea2ab/c1b63/screenshot-of-truenas-scale-applications.png 1200w,\n/static/a578be5b7e6dc1225428bcdb2b1ea2ab/29007/screenshot-of-truenas-scale-applications.png 1600w,\n/static/a578be5b7e6dc1225428bcdb2b1ea2ab/70d4c/screenshot-of-truenas-scale-applications.png 2548w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>基本环境准备好了之后把由 5 块 HDD 组成的 RaidZ1 作为了主存储池就开始使用了。用了一段时间发现系统有一个小小的问题：这些 HDD 差不多每几秒就会卡卡响两下，不是什么异常的声音，就是正常的读写的声音，可我当时并没有使用它做什么事情，而且这种有节奏的噪音让我也有点难受。看了下监控，io 模式就是这个样子：</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/1e55ea95fb90db25137b7aefdf1354cf/00e09/truenas-scale-hdd-idle-read-write.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 15.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAADCAIAAAAcOLh5AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAbklEQVQI1y3OQQ4EIQhEUU8jUEJBd6KdzP0PNtHI6vFX1dZaz/uqqJmZmp4zvbb73UKGu1dVRIhIc3cIXMeQAbUNHVBAMY5Px1CY2Pf9qpLknDMiGklKZX+yV/RkL/ZMKUqeXrGx7RIA9j49M83+zmIeX4r/0z8AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"truenas scale hdd idle read write\"\n        title=\"truenas scale hdd idle read write\"\n        src=\"/static/1e55ea95fb90db25137b7aefdf1354cf/5a190/truenas-scale-hdd-idle-read-write.png\"\n        srcset=\"/static/1e55ea95fb90db25137b7aefdf1354cf/772e8/truenas-scale-hdd-idle-read-write.png 200w,\n/static/1e55ea95fb90db25137b7aefdf1354cf/e17e5/truenas-scale-hdd-idle-read-write.png 400w,\n/static/1e55ea95fb90db25137b7aefdf1354cf/5a190/truenas-scale-hdd-idle-read-write.png 800w,\n/static/1e55ea95fb90db25137b7aefdf1354cf/c1b63/truenas-scale-hdd-idle-read-write.png 1200w,\n/static/1e55ea95fb90db25137b7aefdf1354cf/29007/truenas-scale-hdd-idle-read-write.png 1600w,\n/static/1e55ea95fb90db25137b7aefdf1354cf/00e09/truenas-scale-hdd-idle-read-write.png 2195w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>首先我就去 google 了，搜来搜去，用关键词「truenas scale idle read write」找到了 <a href=\"https://www.reddit.com/r/truenas/comments/u3zxpn/truenas_scale_constant_writes_while_idle/\">TrueNas Scale constant writes while idle</a> 这个问题，下面的回复基本就就是清楚了原因，我这里简单复述下：</p>\n<p>TrueNAS 会默认把你建立的第一个 data pool 设定为 System Dataset 然后会在这里塞日志等乱七八糟的东西，尤其是系统日志这种东西它就会持续的对系统进行写入。</p>\n<p>既然 HDD 读写声音很讨厌，那我就还是再加一个 nvme 的盘做成存储池来用吧，幸好我的主板 m.2 的插槽管够。插上 nvme 硬盘并设置一个新的存储池后，通过「System Settings」-「Advanced」-「System Dataset Pool」把它修改成心态添加的 nvme 存储即可。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/890801d921fdc4b0f9de13fb60be5602/a3a5c/config-system-dataset.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 82.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAARCAYAAADdRIy+AAAACXBIWXMAAAsTAAALEwEAmpwYAAACM0lEQVQ4y3WUzY4aQQyE5xWIQBBgyADzx8DA8A+7BCEQWuWSQ3LLJZHyKnnvij7vmpCIHKyettvlKrt7gk5RqZFM1GiHarZaqtXeqVarqV6vPzRio9FIWZap3W4rz3MNokjD6INazaaCxbxSkaVK4ljzzU6Hj0etlkt1w1BhGKrX66nb7Voye747nY6t3V5PYbOu5tMnNX7+0vtyrWA6nSrLc6VpqjzLxJ7vKIrU7/dthcVsNtNwODRmg8HAYrZGkeJiovnxomGaK5jP5xqPx0qSRJPJROv12iThw/herVY6nU623263txiFKFCOx7qcjiqKkYKqqiwJVkVRaLlcGsBisbACZVlazNnhJwc/gA4ax7ExNkCAcLo0L4DP/Z5IPPcWvfkxMAC9MUQyMmCI0cv7BC9AzNv0bzFUBJVV/MMIBsghAR+F8COfPXGKeUHi3n/WYDadalKWStLUmG42GwODPkDe28PhYCtDo8esgAPCGeLkBU77ng2SdrudgVPZe+pxwJi2n/EZmOR7QFg5I5fth33SSRKbXGIUw1y6TdkBvQ8MiUSMAvhN8vOzptVCL1++6+XrD10+f1M+Kuwcedfr1c79xZBvZ4cspBPziz4qCu2eDtruD1qut+b3K8NZMG6A/qQwvz6w9ek660G/b8+NFb/31mKPJO/3e6v82q/Xg0z1fD7fbgEDYfUX8lCyA3KYppPskvD7C6IVmD+I/0pmA+X7Ybj5O2V19q7A4+z5A/0GgLb33U2VJAEAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"config system dataset\"\n        title=\"config system dataset\"\n        src=\"/static/890801d921fdc4b0f9de13fb60be5602/5a190/config-system-dataset.png\"\n        srcset=\"/static/890801d921fdc4b0f9de13fb60be5602/772e8/config-system-dataset.png 200w,\n/static/890801d921fdc4b0f9de13fb60be5602/e17e5/config-system-dataset.png 400w,\n/static/890801d921fdc4b0f9de13fb60be5602/5a190/config-system-dataset.png 800w,\n/static/890801d921fdc4b0f9de13fb60be5602/c1b63/config-system-dataset.png 1200w,\n/static/890801d921fdc4b0f9de13fb60be5602/a3a5c/config-system-dataset.png 1277w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>如果要使用上文提到的 Apps 的话，TrueNAS Scale 也会要求你指定存储的位置，考虑到性能和噪声也要把它指向 nvme 的存储。</p>\n<p>所以对于 TrueNAS Scale 来说，最好要准备三个部分的存储：</p>\n<ol>\n<li>系统盘，16 GB 就够了（此处应该有傲腾 M10）：TrueNAS 就是把系统放这里，其他乱七八糟的东西统统要放到额外的存储池里</li>\n<li>主存储，就是放数据的地方，要做好冗余方案：我这里依然选择了老土 HDD，当然还是考虑到价格比较便宜</li>\n<li>应用存储，可以认为是工作空间：把系统日志，Apps 的一些配置什么的都扔这里，对我来说这些数据不是那么重要，我直接就放了一个 m.2 的 nvme。由于这个空间会因为 Apps 的各种操作和系统日志而频繁读写，使用 ssd 很有必要</li>\n</ol>","fields":{"slug_without_date":"/install-limit-hdd-read-write-for-truenas-scale"}},{"id":"8bb9be01-0e5c-53ef-9277-67210b087b26","frontmatter":{"title":"在 EasePi ARS2 安装  OpenClash","date":"2022 December-13"},"html":"<iframe src=\"//player.bilibili.com/player.html?aid=818673622&bvid=BV1FG4y1G7PB&cid=922888758&page=1\" width=\"100%\" height=\"640\" scrolling=\"no\" border=\"0\" frameborder=\"no\" framespacing=\"0\" allowfullscreen=\"true\"> </iframe>\n<p>最近家里的 <a href=\"https://easepi.linkease.com/\">EasePi ARS2</a> 系统盘满了，想了想没什么重要的东西直接做了系统重制，作为旁路由第一步就是重装代理，这里简单记录下。</p>\n<h2 id=\"下载-openclash\" style=\"position:relative;\">下载 openclash<a href=\"#%E4%B8%8B%E8%BD%BD-openclash\" aria-label=\"下载 openclash permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>去 <a href=\"https://github.com/vernesong/OpenClash\">OpenClash</a> 下载 OpenWrt 的客户端，在 Release 也面也包含了安装的依赖。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b29a0bd74b760b048939e9cd43564905/8c833/openclash-release-page.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABlUlEQVQ4y42S3Y6bMBCFc7dNFoiDAxjj8GNMCCEEpZuuVkit2r7/O53KA82uslqFi6MZ4fHnYeYstGlglZc1dnmFNK8Qqxz18Yx900HIDCK5k8yoRqUlStNg3/Q4dBf0lw6LpcuxdLdYelusPijfd1DFgfLndTgpmDTmq3VA9745PunpmWPhbiLcyxbX7Xf01wFrHsNhIVwWforuJoTnj3c8X1D+JVBmFbLyCLEzEKqkGKkSUaLHqDR9vz043f0SmFcnZKZFIIsRuisJ9D+3MU6r+cA4NahPL6Ty0EPXZxT7Dpk5QpUnZNUJYVLQr84C1u0Fr8NvJJkBD9WoaEcduTQvQXW2/iHQWQdIdIuifUWsO0jdQZkzzYxtJYEcFtxAD4HWKtYy1+Ev+h8/cR3+QNc9uEipQwtlQUJxFtB2UFQtrm+/UDU9mu6FlOoDYrsQpWnGNj4EOpPP7CJS02Ll8tHM7KOx3zVvhiwEj1KwQMHjCTwub2fetBC7GHcj5i5lC5G3kM0AX1ZgUf5+7ovb7Oyj9z78B/BjSkd1qO0wAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"openclash release page\"\n        title=\"openclash release page\"\n        src=\"/static/b29a0bd74b760b048939e9cd43564905/5a190/openclash-release-page.png\"\n        srcset=\"/static/b29a0bd74b760b048939e9cd43564905/772e8/openclash-release-page.png 200w,\n/static/b29a0bd74b760b048939e9cd43564905/e17e5/openclash-release-page.png 400w,\n/static/b29a0bd74b760b048939e9cd43564905/5a190/openclash-release-page.png 800w,\n/static/b29a0bd74b760b048939e9cd43564905/c1b63/openclash-release-page.png 1200w,\n/static/b29a0bd74b760b048939e9cd43564905/29007/openclash-release-page.png 1600w,\n/static/b29a0bd74b760b048939e9cd43564905/8c833/openclash-release-page.png 1609w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>下载之后本来打算用 <code>scp</code> 拷贝过去，但感觉 openwrt 里的这个 ssh 有点不太一样，scp 会失败，最终还是要从页面的「系统」-「文件传输」把下载的安装包传过去。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/bde4a1104b56d5c7c0a4a2039ad49201/8c833/upload-file-in-asr2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAABn0lEQVQ4y5VSwW4UMQzNr3NoOXJo+RxucAGJA1ohcQS2HNjdThI7iTNJ5iF7hm0LaqGRnhx7PC/vOXGRCyaf8f0H4cWrb7i8vsHL1ze4vN7b/n+h/1xc7eFaFwADuo4ngkhF7wPLsmCMcQ9/5nfoW2x9wH36HLD7kvB1LyBihMAoIpjnZsRjI+692yH/gnv7IeDNO8LHHUPqbEqnySNERp3bmVBELD5Fpi5cawlAW4l8xPHk0cdi6lrrmFsznPO5nWt/YW5wIRJSKkaihETJ7LXeLa4YqLWiKbHZfwwdLoQIZjbJSqyn6FL59+0QkZHqenKG2kgboc7t52E6X8hqebWts9Sa7lW9fmubkzbWXoVbb5asOVDCFBJ81MjgXJFKRZYZh1Owuubaw1lw6xlEGeEYQEnsu2PO8EFvuNlzKUXgA9khOk+p1W7Y22iS2U4po4qAS4EcblHe75BrtWfnImdgWQdKnMCpIGUx6P43AhX4WDAFFbDFLddRRXUaGY5yxbLNQMmJC8jiQ0R6HHc9Cc5PEXWuplALq6L8QN1z8AvHKuWfMv4pPAAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"upload file in asr2\"\n        title=\"upload file in asr2\"\n        src=\"/static/bde4a1104b56d5c7c0a4a2039ad49201/5a190/upload-file-in-asr2.png\"\n        srcset=\"/static/bde4a1104b56d5c7c0a4a2039ad49201/772e8/upload-file-in-asr2.png 200w,\n/static/bde4a1104b56d5c7c0a4a2039ad49201/e17e5/upload-file-in-asr2.png 400w,\n/static/bde4a1104b56d5c7c0a4a2039ad49201/5a190/upload-file-in-asr2.png 800w,\n/static/bde4a1104b56d5c7c0a4a2039ad49201/c1b63/upload-file-in-asr2.png 1200w,\n/static/bde4a1104b56d5c7c0a4a2039ad49201/29007/upload-file-in-asr2.png 1600w,\n/static/bde4a1104b56d5c7c0a4a2039ad49201/8c833/upload-file-in-asr2.png 1609w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"安装-openclash\" style=\"position:relative;\">安装 openclash<a href=\"#%E5%AE%89%E8%A3%85-openclash\" aria-label=\"安装 openclash permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>首先安装相应的依赖，然后执行命令 <code>opkg xxx.ipk</code> 就可以了。安装成功之后重新登录 ARS2 的管理页面在左侧导航栏的「服务」下面就会多了「OpenClash」了。下一步按照 <a href=\"https://github.com/vernesong/OpenClash/wiki/%E7%89%88%E6%9C%AC%E6%9B%B4%E6%96%B0\">OpenClash 版本更新</a> 介绍的更新流程，去「OpenClash」-「全局设置」-「版本更新」这个页面（有点难找），点击下面的「更新内核」，自动下载 clash 内核。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/3a80b1f313cabff1f837010326b20aea/8c833/update-clash-core.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAACYUlEQVQ4y3WTyYtUMRDG3z+uN8UNPbmM4MWLZ08e9CAoDIoILtiOds/YM01Pv33J+vKS95OkR0XQgqKSSlL1peqrbAoz2gSaznH9fs6VuyVX7xbcPMi5eVBw4yDn1sNiv36Q/2VvPSy5dDvn2r2SO48qLj/+StZLxTg63BQQQlHVlrLSSNEjxEDftUgxYIxitBrnLErFNyPzPHF8alHaAzN+hMxZAwSibLYFi6Njvi/XLI5O+LxYsTrJWZ9VNK1CKscgR4x12NFh7Ij3cT2iTfRbsuWy5+RsZFcEPv5Y8PTdM14t3vDqyxveLz+z2ZV0nUJIwyD2KtUfjf5oVdprshevO5483fLysOdsW/Dp63eOVmtWP7asNwWnm/OEPK8aiqpNuitqdmWT7HlRk5c1u2KgrC3ZHCxKtjA7tLEJutIWZWzKOEiNUIay6tjuKvKypR8kIp2ppEIqejHSDRNZ1wsGofF+RmmD955/SfABa0e0tvxPQvBkQgj6fmCeZ6qqwxib1lGV1XS6x3mXAsZgZdmmpPF8nByN7NHOpP00eTKlIhUc3oeLru0vz2EGJgIWN01IoZFS03UC56bIkgt2WFzkywyT92Ram8TDEAJ13aVHIQWDxUpy+LEE9mWI9yLCiCRK3TmeHxbIRD32CNteMU0ubWKNokSEMaWQnkHMCfUwqESNSP6EMCZwgbqJP2JP7Ihw6OTvRvziU0QbJW8kx+cVysnkiwmbpv8dUJqRb5s61TnMYR/wfFfSti1VVbM+3aSxmi+6FsfqyzKWYMJal5oSy/IrYKTJ2w+ScdqPXqzhTxJ623bMPfmVAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"update clash core\"\n        title=\"update clash core\"\n        src=\"/static/3a80b1f313cabff1f837010326b20aea/5a190/update-clash-core.png\"\n        srcset=\"/static/3a80b1f313cabff1f837010326b20aea/772e8/update-clash-core.png 200w,\n/static/3a80b1f313cabff1f837010326b20aea/e17e5/update-clash-core.png 400w,\n/static/3a80b1f313cabff1f837010326b20aea/5a190/update-clash-core.png 800w,\n/static/3a80b1f313cabff1f837010326b20aea/c1b63/update-clash-core.png 1200w,\n/static/3a80b1f313cabff1f837010326b20aea/29007/update-clash-core.png 1600w,\n/static/3a80b1f313cabff1f837010326b20aea/8c833/update-clash-core.png 1609w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<h2 id=\"添加配置并启动\" style=\"position:relative;\">添加配置并启动<a href=\"#%E6%B7%BB%E5%8A%A0%E9%85%8D%E7%BD%AE%E5%B9%B6%E5%90%AF%E5%8A%A8\" aria-label=\"添加配置并启动 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>下一步就要去「配置文件订阅」更新订阅的代理源了，这里我没办法说的更多了，懂得都懂。最后在「运行状态」标签页滑到最下面点击「启动 OPENCLASH」。</p>\n<h2 id=\"测试\" style=\"position:relative;\">测试<a href=\"#%E6%B5%8B%E8%AF%95\" aria-label=\"测试 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>ssh 进去，<code>curl google.com</code> 感受下效果。</p>\n<p>后面就可以按照 <a href=\"/homelab-side-router/\">使用 EasePi ARS2 做旁路由</a> 的流程把这个设备设置成旁路由使用了。</p>","fields":{"slug_without_date":"/install-openclash-for-easepi"}},{"id":"1473f6e7-9413-5487-a275-03da8353f8f5","frontmatter":{"title":"使用 EasePi ARS2 做旁路由","date":"2022 December-10"},"html":"<p>最近折腾了下那个一直放在家里的 <a href=\"https://easepi.linkease.com/\">EasePi ARS2</a> ，把它做成了家里的一个旁路由，这里记录一下。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/71603fa2d133af83a362fa1645f61375/4b446/ars2.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 77.5%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAYAAAAWGF8bAAAACXBIWXMAAAsTAAALEwEAmpwYAAADFklEQVQ4y6WT7W9aZRjG78PhnAPlnMOBAoUDpekLlZd2Yy3lpUApbRlbMZbVzlFF4xedydx0S9o4tVunqW7R2Kjxo5/2D+4fMD8DUxs/aDT78Eue50quK3fuXLeICH+iKBfvV+DiE/ALIVtwLBXH8hDwCUFTIWgKE4ZgTQh+438EmmaARHwSQ1ewTIOF+TS25SPpRplJu7iJCLGI+d8D5+fn2d3tcfPmLfr9fa5d71FYWmZw+A57ezd469aAdHrm3wN9Ph+maeL3+7Ftm0QiQSqVIulOEbT8hB2TSDhILBYjmUwSiUQIh8M4IQfLsv7YvXKxf1VV0bwaXtX7F6pHxWvYiBZGFBuPZqPrxljXNX3MP07oEZURqnjxKjqaePAaUyjDF1x6ApUzCNz+DSVYRBfBIxqW36ZebbBRb1FaqVCvtSitVvHpPmRCAgTEJCAWuvjQRceQEEruW5zqz0zWfkK7fI4uaQzxoopG0knxyUf3Of70AV98fI3n57s8vHMdZyKCTEqUqMSISoJyrkFrbYv14hadUp2NSxWquRKNpRLrxTat8g7NYouUMUtxeoXqYoX1xSxvVBeoZTM4agRxtdcISY6NtRs8fvSQe0efc3zyFafPfuTR03MeP/2B7375lZOz7zn68gmnJ8d0mm9iS5ZJmSMk05gSx5Yoo+EkEShh63Ua9SF3PxwwGLzN/sGAe/ePeHD0Gadff8PZs3M+uH2H/sEhx3eHvN57j6C/iWtVcI0CKXUOV0kRkwTiehdwZJ52pc/wcJ9ms8Vme5typUa+sExmMcvqWpXtTpfm5jbvv3vA/u6QkCww8saVNFPiEpWplxOGJUJQHLKpPPlCjmQqTWYxx1TcxTRtTCtINBYnm1tidi5DYTnPSm5t7Bl5HQkTlBCWBDHFRvxKAE10ZuKzXG03aDTbbGx22On26HR77Fzt0d3do9XusLnVpd/bIZfJ4xWDkdcnfoxxO4xxQ2TUv1EhY5E41XKJy1fKVGotrqzWxpQqTdYqG2OtVG7QXK8ynUyPPSOvRzxjlDHK329ZXgqvxO8ebrE87NqmiwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"ars2\"\n        title=\"ars2\"\n        src=\"/static/71603fa2d133af83a362fa1645f61375/5a190/ars2.png\"\n        srcset=\"/static/71603fa2d133af83a362fa1645f61375/772e8/ars2.png 200w,\n/static/71603fa2d133af83a362fa1645f61375/e17e5/ars2.png 400w,\n/static/71603fa2d133af83a362fa1645f61375/5a190/ars2.png 800w,\n/static/71603fa2d133af83a362fa1645f61375/4b446/ars2.png 877w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>首先这个东西就是一个非常正统的「软路由」了，搞这个东西的基本用法应该就是把它当个路由器直接接管家里网络的三个方面：</p>\n<ol>\n<li>接入 ISP 的光猫，拨号上网</li>\n<li>作为默认网关，成为家里所有设备的默认网络出口</li>\n<li>支持 dhcp 和 dns 服务，可以为家里的其他设备分配 ip 设置默认 dns</li>\n</ol>\n<p>当然，用这个东西而不用自己买的路由器有如下两个好处：</p>\n<ol>\n<li>通常这个东西的性能会更好，在设备很多的时候也不至于出现性能问题，成为网络瓶颈</li>\n<li>大部分人用这个东西都是为了在这台设备上安装一些代理，然后所有的内网的设备就可以访问各种网站了，这样就省的每个设备都设置代理了，毕竟每个设备各种操作系统设置代理也很麻烦的，尤其是有些设备在安装阶段都需要链接外网，根本没有机会在本机设置代理</li>\n</ol>\n<p>不过这并不代表原来的路由器可以扔了，毕竟 ARS2 不是个无线路由器，无法支持 wifi 的，原来的路由器还是要当 AP 继续发挥作用的。</p>\n<h2 id=\"为什么作为旁路由\" style=\"position:relative;\">为什么作为旁路由<a href=\"#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%9C%E4%B8%BA%E6%97%81%E8%B7%AF%E7%94%B1\" aria-label=\"为什么作为旁路由 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>不过直接把这种软路由做成主路由器有三个问题：</p>\n<ol>\n<li>原来的路由器要修改成 AP 模式，还要额外的设置...麻烦</li>\n<li>这台机器其实还有其他的功能，比如可以安装点乱七八糟的插件把它做成个小 NAS，那如果稍有不慎把它搞坏了，那全屋子的网就没了</li>\n<li>这个东西主要是作为代理用的，但众所周知现在的代理由于种种原因都没有那么稳定，且配置那种规则也有一定风险，让所有的设备都翻墙其实也夹带着让所有设备都断网的风险，尤其是如果家里的网络使用者很多，且不是所有人都有使用代理的需求，全屋过代理出力不讨好</li>\n</ol>\n<p>所以做成旁路由，不开通 DHCP 只是支持流量转发和 DNS 服务即可，这样子全屋设备默认依然连接主路由器，即使软路由玩坏了也不耽误其他设备正常使用，需要翻墙的设备主动修改默认网关到软路由就可以了。</p>\n<h2 id=\"怎么设置\" style=\"position:relative;\">怎么设置<a href=\"#%E6%80%8E%E4%B9%88%E8%AE%BE%E7%BD%AE\" aria-label=\"怎么设置 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p>官方有文档和视频教程 <a href=\"https://doc.linkease.com/zh/guide/easepi/common.html#%E6%97%81%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%BC%8F\">https://doc.linkease.com/zh/guide/easepi/common.html#%E6%97%81%E8%B7%AF%E7%94%B1%E6%A8%A1%E5%BC%8F</a> 按照这个设置就可以了。</p>\n<h2 id=\"怎么修改默认网关\" style=\"position:relative;\">怎么修改默认网关<a href=\"#%E6%80%8E%E4%B9%88%E4%BF%AE%E6%94%B9%E9%BB%98%E8%AE%A4%E7%BD%91%E5%85%B3\" aria-label=\"怎么修改默认网关 permalink\" class=\"custom-class after\"><svg aria-hidden=\"true\" height=\"20\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"20\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a></h2>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/c5b681bf2e7feab682e5a4f81e06e6bf/d9199/side-router.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 26%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAABAklEQVQY01WQ206DQBRF+/9/QlL1A0hq+go2NdEY0RiElnppgVJgBua2DNA28TzMZe+TM3vWzDnHUNY6LudhL8uK/aHgcCgGZdSMmfxLGWOQUiKkRGk9arNhkZ1BSIvozLW5qiqSJGWz2dJKjZCGulGUlRjvXe9o2o6iOJLnJVJ208BeWeqmJ89zmrbneFIoA/Fngu/7rNePKD09lCQJT88vbLMv+t7wuy9YLpdjXxzH08AhXd0qjicxJmjEFP1hteJ+sSAIApqzn2W70UvTLd8/Oe8fGTe3d8znc6Iounx5YmMdZ0buysdai9Ya6xxaW8IwxPM8XqM3TnWL1uYf04HzH9vxfLXN68f+AAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"side router\"\n        title=\"side router\"\n        src=\"/static/c5b681bf2e7feab682e5a4f81e06e6bf/5a190/side-router.png\"\n        srcset=\"/static/c5b681bf2e7feab682e5a4f81e06e6bf/772e8/side-router.png 200w,\n/static/c5b681bf2e7feab682e5a4f81e06e6bf/e17e5/side-router.png 400w,\n/static/c5b681bf2e7feab682e5a4f81e06e6bf/5a190/side-router.png 800w,\n/static/c5b681bf2e7feab682e5a4f81e06e6bf/d9199/side-router.png 960w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>这里就以 mac 为例做个记录：</p>\n<p>「配置 IPV4」选择为「手动」，然后「路由器」更改为软路由的 IP。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 800px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/a241db3e1028e2b48556bfcc651c836c/fd28b/wifi-tcp-ip-page.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 55.00000000000001%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAYAAAB/Ca1DAAAACXBIWXMAAAsTAAALEwEAmpwYAAACGElEQVQoz2WRXWsTQRSG95eoSfZrdrMzs2k223zsbpKmSatiLhQp/RC/QAqCWCkitIioVCxeKKJ44W8QvPbKO3/VIzNNqbUXL3PmsPOc993jVEqTd/rowEV6daRfRzRqNAOfyHMRbh3hNs4pbNRQccz21g43rl3n1mrF4/mQo80RTqs1YGVnj0nZo6M0HaXQImRaleRaIQMfFQZnEiHKq6HzFcr774nnL+huvWb04ANPH+7i5FIxX5vSb7cp8g5FJ7OPyuWcTCYXgWFge20pGZVDVFPSlSl3iiU+bfZwsmbMeFAgA/NxaN01PZdJWTDI2iS+dx64GGAGj3tdmsJnHER8eXCXj/vPcbIkYX0ysbA0ikgjYeGTojhzaGIugGag6XWXWkyHFXHgUS21ebn3jqPPv08ij/p9CzFALQQyDFitSpZTfSHy6b3qLjMbVnZxPaU4PnjD/myOo/2AdpJY0JlDn1G/R6bkhcitOLIydZlnhH7IRhXz89mctx2Nk3g+2oAWQOsw8JmNhnYxptaLyOY0rk1cI/MfRRCyllzmz9dX/Nq+jSM9lzSKLejEpbCuzEMdCbsgAzUyfXMX9TqifoXUryFql1jOND+ODzjcuolzuoz/I586MZDYbViQUey65FrSVimRHhMGCiEjHk0HbMxKA/TPAU0so/nVdStT/wuMGg1mVUFVTvBHTwjSNTIV8u1wl+979/gLWWZm/qYvg20AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"wifi tcp ip page\"\n        title=\"wifi tcp ip page\"\n        src=\"/static/a241db3e1028e2b48556bfcc651c836c/5a190/wifi-tcp-ip-page.png\"\n        srcset=\"/static/a241db3e1028e2b48556bfcc651c836c/772e8/wifi-tcp-ip-page.png 200w,\n/static/a241db3e1028e2b48556bfcc651c836c/e17e5/wifi-tcp-ip-page.png 400w,\n/static/a241db3e1028e2b48556bfcc651c836c/5a190/wifi-tcp-ip-page.png 800w,\n/static/a241db3e1028e2b48556bfcc651c836c/fd28b/wifi-tcp-ip-page.png 811w\"\n        sizes=\"(max-width: 800px) 100vw, 800px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>点击左侧的「DNS」把这里的 DNS 服务器也修改成软路由的 IP。</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 693px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/b0523eefda029a3d4eaf44ca3a8715de/61c63/wifi-dns.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 64%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAANCAYAAACpUE5eAAAACXBIWXMAAAsTAAALEwEAmpwYAAAB90lEQVQ4y4WT227TUBBF/RkIiSaO7XM/vsVO2qROGtIW9aqCEAh4AIlXvoFfX+g4cZWW28OSPXPk7b1n7Oh4vuG4O+ek9JRKUWmJlxleJHSzhm7WYpIYm07+i5yMido331h/+E7XlpTaUiiFFym5q7m7e8/D/TsKX6GEQUuHlvaPGJUjk5RoPWu5OlsxK0pO6ppFM6V1iri6xa6+UHcPqPaaI7tm7M4Y/caGkV0xqm7JRE50td1yc3nJsm1Yzeesj+fMqxKXJTipsELhpMYr808KbVBJTHTatmy7Di9EH3cXWVBqRZs7ps7ssH+ntprGWXQyIXrdrdgsFuRSUhnTUyjZCza5p3aW6QH1nue9qXeoXnC5ZNE0TwSDw9oars/P8SJDT2JMMulxWYpNk8d6IPRkPCbKRXCje6HhmktBZXS/oOeutt0pq/mMKsQ9OGu820UOwxzEyv19PkT27jHOEC/0Hutn/T5ysY+6E9S9szDDECHEGyIODPEOz02aYTOBnMR7h3uxXlDvBMPcsqNXiNHRk4cPUfEYOR7j4pf4+AUq/CnlfhGVtVTGUlvbzzB8Tl8/f+Lj24d+QUE0LMhnaU+oby4uuL/cojc/MFc/EZkjKrzCpyk2RNkT3mxExqwqaYq8n002HiEOCHUZTDhDYhakfkMST/gFEHqMoHSRInUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"wifi dns\"\n        title=\"wifi dns\"\n        src=\"/static/b0523eefda029a3d4eaf44ca3a8715de/61c63/wifi-dns.png\"\n        srcset=\"/static/b0523eefda029a3d4eaf44ca3a8715de/772e8/wifi-dns.png 200w,\n/static/b0523eefda029a3d4eaf44ca3a8715de/e17e5/wifi-dns.png 400w,\n/static/b0523eefda029a3d4eaf44ca3a8715de/61c63/wifi-dns.png 693w\"\n        sizes=\"(max-width: 693px) 100vw, 693px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n  </a>\n    </span></p>\n<p>目前我的 truenas scale 就修改了默认网关指向了软路由，这样可以让 truenas scale 里的 k3s 无需额外的设置就能拉到各种镜像了，非常的省心。但如果是笔记本之类的便携设备，这么做会导致你在更换设备使用的地方后无法上网（别问我怎么知道的），一定要记得切换回来。</p>","fields":{"slug_without_date":"/homelab-side-router"}}],"pageInfo":{"pageCount":48,"hasPreviousPage":false,"currentPage":1}}},"pageContext":{}},"staticQueryHashes":["26522286"],"slicesMap":{}}