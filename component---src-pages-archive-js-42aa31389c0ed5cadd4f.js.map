{"version":3,"sources":["webpack://aisensiy-s-blog/./src/pages/archive.js"],"names":["Archive","groupByYearResult","blogs","result","blog","frontmatter","year","push","arrayResult","Object","keys","map","key","value","sort","a","b","reverse","groupByYear","data","allMarkdownRemark","nodes","title","className","YearItems","id","Link","to","fields","slug_without_date","date"],"mappings":"khCAKe,SAASA,EAAT,GAA4B,IACnCC,EAkDR,SAAqBC,GAEnB,IADA,IACA,EADMC,EAAS,GACf,IAAiBD,KAAjB,aAAwB,CAAC,IAAhBE,EAAe,QACjBD,EAAOC,EAAKC,YAAYC,QAC3BH,EAAOC,EAAKC,YAAYC,MAAQ,IAElCH,EAAOC,EAAKC,YAAYC,MAAMC,KAAKH,GAErC,IAAMI,EAAcC,OAAOC,KAAKP,GAAQQ,KAAI,SAACL,GAAD,MAAW,CACrDM,IAAKN,EACLO,MAAOV,EAAOG,OAOhB,OALAE,EACGM,MAAK,SAACC,EAAGC,GACR,OAAOD,EAAEH,IAAMI,EAAEJ,OAElBK,UACIT,EAnEmBU,CADc,EAARC,KACWC,kBAAkBC,OAE7D,OACE,gBAAC,IAAD,KACE,gBAAC,IAAD,CAAQC,MAAM,YACd,2BACE,qCACCrB,EAAkBU,KAAI,gBAAGC,EAAH,EAAGA,IAAKC,EAAR,EAAQA,MAAR,OACrB,uBAAKD,IAAKA,GACR,sBAAIW,UAAU,0CAA0CX,GACxD,gBAACY,EAAD,CAAWtB,MAAOW,UAQ9B,SAASW,EAAT,GAA+B,IAAVtB,EAAS,EAATA,MACnB,OACE,sBAAIqB,UAAU,aACXrB,EAAMS,KAAI,SAACP,GAAD,OACT,sBAAImB,UAAU,wBAAwBX,IAAKR,EAAKqB,IAC9C,gBAAC,EAAAC,KAAD,CAAMC,GAAIvB,EAAKwB,OAAOC,mBACnBzB,EAAKC,YAAYyB,KADpB,MAC6B1B,EAAKC,YAAYiB","file":"component---src-pages-archive-js-42aa31389c0ed5cadd4f.js","sourcesContent":["import { graphql, Link } from \"gatsby\";\nimport React from \"react\";\nimport Base from \"../layouts/base\";\nimport { Helmet } from 'react-helmet'\n\nexport default function Archive({ data }) {\n  const groupByYearResult = groupByYear(data.allMarkdownRemark.nodes);\n\n  return (\n    <Base>\n      <Helmet title=\"Archive\" />\n      <div>\n        <h1>Archive</h1>\n        {groupByYearResult.map(({ key, value }) => (\n          <div key={key}>\n            <h2 className=\"text-2xl font-bold tracking-tight my-4\">{key}</h2>\n            <YearItems blogs={value} />\n          </div>\n        ))}\n      </div>\n    </Base>\n  );\n}\n\nfunction YearItems({ blogs }) {\n  return (\n    <ul className=\"space-y-1\">\n      {blogs.map((blog) => (\n        <li className=\"list-disc list-inside\" key={blog.id}>\n          <Link to={blog.fields.slug_without_date}>\n            {blog.frontmatter.date} - {blog.frontmatter.title}\n          </Link>\n        </li>\n      ))}\n    </ul>\n  );\n}\n\nexport const query = graphql`\n  query QueryBlogTitles {\n    allMarkdownRemark(sort: { fields: frontmatter___date, order: DESC }) {\n      nodes {\n        id\n        frontmatter {\n          title\n          date(formatString: \"MMMM-DD\")\n          year: date(formatString: \"YYYY\")\n        }\n        fields {\n          slug_without_date\n        }\n      }\n    }\n  }\n`;\n\nfunction groupByYear(blogs) {\n  const result = {};\n  for (let blog of blogs) {\n    if (!result[blog.frontmatter.year]) {\n      result[blog.frontmatter.year] = [];\n    }\n    result[blog.frontmatter.year].push(blog);\n  }\n  const arrayResult = Object.keys(result).map((year) => ({\n    key: year,\n    value: result[year],\n  }));\n  arrayResult\n    .sort((a, b) => {\n      return a.key - b.key;\n    })\n    .reverse();\n  return arrayResult;\n}\n"],"sourceRoot":""}